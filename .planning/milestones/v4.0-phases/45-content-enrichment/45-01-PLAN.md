---
phase: 45-content-enrichment
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/constants/questions/american-government.ts
  - src/constants/questions/rights-responsibilities.ts
  - src/constants/questions/american-history-colonial.ts
  - src/constants/questions/american-history-1800s.ts
  - src/constants/questions/american-history-recent.ts
  - src/constants/questions/symbols-holidays.ts
  - src/constants/questions/uscis-2025-additions.ts
  - src/constants/questions/questions.test.ts
  - src/types/index.ts
autonomous: true
requirements: [CONT-01, CONT-02, CONT-03, CONT-04, CONT-07]

must_haves:
  truths:
    - "All 128 questions have mnemonic_en populated (non-empty string)"
    - "All 128 questions have funFact_en and funFact_my populated"
    - "All 128 questions have commonMistake_en and commonMistake_my populated"
    - "All 128 questions have citation populated"
    - "15-20 questions have tricky: true flag"
    - "Test suite validates all enrichment completeness"
  artifacts:
    - path: "src/constants/questions/questions.test.ts"
      provides: "Enrichment completeness validation tests"
      contains: "mnemonic_en"
    - path: "src/types/index.ts"
      provides: "Question interface with tricky field"
      contains: "tricky"
  key_links:
    - from: "src/constants/questions/*.ts"
      to: "src/types/index.ts"
      via: "Question type with Explanation fields"
      pattern: "mnemonic_en.*funFact_en.*commonMistake_en.*citation"
---

<objective>
Populate all 128 questions with complete enrichment data (mnemonics, fun facts, common mistakes, citations) and add tricky question flags.

Purpose: Fulfill CONT-01 through CONT-04 data requirements and CONT-07 tricky flag data. All content in the question data files, validated by automated tests.
Output: 7 updated question files, extended test suite, updated Question type
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md
@.planning/phases/45-content-enrichment/45-CONTEXT.md
@.planning/phases/45-content-enrichment/45-RESEARCH.md

@src/types/index.ts
@src/constants/questions/index.ts
@src/constants/questions/questions.test.ts

<interfaces>
<!-- Key types the executor needs -->
From src/types/index.ts:
```typescript
export interface Explanation {
  brief_en: string;
  brief_my: string;
  mnemonic_en?: string;
  mnemonic_my?: string;
  citation?: string;
  funFact_en?: string;
  funFact_my?: string;
  relatedQuestionIds?: string[];
  commonMistake_en?: string;
  commonMistake_my?: string;
}

export interface Question {
  id: string;
  question_en: string;
  question_my: string;
  category: Category;
  studyAnswers: StudyAnswer[];
  answers: Answer[];
  explanation?: Explanation;
  dynamic?: DynamicAnswerMeta;
  // NEW: tricky flag added by this plan
}
```

Current enrichment coverage:
- mnemonic_en: 17/128 populated
- funFact_en: 25/128 populated
- commonMistake_en: 28/128 populated
- citation: 48/128 populated
- relatedQuestionIds: 128/128 (all complete)

Question files (7 category files):
- american-government.ts: 47 questions (GOV-P01-12, GOV-S01-35)
- rights-responsibilities.ts: 10 questions (RR-01-10)
- american-history-colonial.ts: 13 questions (HIST-C01-13)
- american-history-1800s.ts: 7 questions (HIST-101-107)
- american-history-recent.ts: 10 questions (HIST-R01-10)
- symbols-holidays.ts: 13 questions (SYM-01-13)
- uscis-2025-additions.ts: 28 questions
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add tricky flag to Question type and extend test suite with enrichment completeness tests</name>
  <files>src/types/index.ts, src/constants/questions/questions.test.ts</files>
  <action>
1. In `src/types/index.ts`, add optional `tricky` boolean to the `Question` interface:
   ```typescript
   export interface Question {
     // ... existing fields ...
     /** Whether this question is commonly tricky for test-takers */
     tricky?: boolean;
   }
   ```

2. In `src/constants/questions/questions.test.ts`, add these new test cases after the existing tests:

   ```typescript
   describe('Content Enrichment Completeness', () => {
     it('all questions have mnemonic_en', () => {
       for (const q of allQuestions) {
         expect(q.explanation?.mnemonic_en, `${q.id} missing mnemonic_en`).toBeTruthy();
       }
     });

     it('all questions have funFact_en and funFact_my', () => {
       for (const q of allQuestions) {
         expect(q.explanation?.funFact_en, `${q.id} missing funFact_en`).toBeTruthy();
         expect(q.explanation?.funFact_my, `${q.id} missing funFact_my`).toBeTruthy();
       }
     });

     it('all questions have commonMistake_en and commonMistake_my', () => {
       for (const q of allQuestions) {
         expect(q.explanation?.commonMistake_en, `${q.id} missing commonMistake_en`).toBeTruthy();
         expect(q.explanation?.commonMistake_my, `${q.id} missing commonMistake_my`).toBeTruthy();
       }
     });

     it('all questions have citation', () => {
       for (const q of allQuestions) {
         expect(q.explanation?.citation, `${q.id} missing citation`).toBeTruthy();
       }
     });

     it('tricky questions are valid question IDs', () => {
       const trickyQuestions = allQuestions.filter(q => q.tricky);
       expect(trickyQuestions.length).toBeGreaterThanOrEqual(10);
       expect(trickyQuestions.length).toBeLessThanOrEqual(25);
       for (const q of trickyQuestions) {
         expect(q.id, `tricky question ${q.id} not in allQuestions`).toBeTruthy();
       }
     });
   });
   ```

   These tests are expected to FAIL (red) until Task 2 populates the data. This is intentional — Wave 0 test setup.
  </action>
  <verify>
    <automated>pnpm vitest run src/constants/questions/questions.test.ts 2>&1 | tail -20</automated>
    Existing tests pass. New enrichment tests will fail (red) — that is expected.
  </verify>
  <done>Question type has `tricky?: boolean`. Test suite has 5 new enrichment completeness tests. Existing tests still pass.</done>
</task>

<task type="auto">
  <name>Task 2: Populate all enrichment fields for all 128 questions and add tricky flags</name>
  <files>
    src/constants/questions/american-government.ts,
    src/constants/questions/rights-responsibilities.ts,
    src/constants/questions/american-history-colonial.ts,
    src/constants/questions/american-history-1800s.ts,
    src/constants/questions/american-history-recent.ts,
    src/constants/questions/symbols-holidays.ts,
    src/constants/questions/uscis-2025-additions.ts
  </files>
  <action>
For EACH of the 128 questions across all 7 files, ensure the `explanation` object has ALL of these fields populated (non-empty):

1. **mnemonic_en** (string) — English memory aid. Guidelines:
   - For list-type answers (branches of gov, amendments, freedoms): use ACRONYM mnemonics
   - For concept questions: use STORY/ASSOCIATION mnemonics
   - Keep concise (1-2 sentences max)
   - Should feel like a tutor's tip, not academic or childish
   - Example: "Think 'SJE' — Senate, Judicial, Executive — the three branches"

2. **funFact_en** + **funFact_my** (bilingual pair) — Interesting fact related to the answer:
   - Historical context, surprising connections, or real-world relevance
   - NOT a restatement of the answer
   - Burmese is a cultural adaptation, not direct translation

3. **commonMistake_en** + **commonMistake_my** (bilingual pair) — Why wrong answers seem right:
   - Explain the confusion between the correct answer and common wrong picks
   - Burmese adapted, not literally translated

4. **citation** (string) — Source reference:
   - Constitutional questions: Article/Amendment reference (e.g., "Article I, Section 1")
   - History questions: Date and act/event (e.g., "Emancipation Proclamation, 1863")
   - Rights questions: Amendment or USC reference
   - Symbols/holidays: Federal law or historical date

5. **tricky flag** — Add `tricky: true` at the Question level (NOT inside explanation) for 15-20 questions that are commonly confused. Target questions where:
   - Similar-sounding answers exist (e.g., Declaration of Independence vs Constitution)
   - Numbers are easy to mix up (e.g., number of amendments, senators, representatives)
   - Historical dates are close together
   - Government roles overlap (e.g., Speaker of the House vs Senate leader)

IMPORTANT NOTES:
- Do NOT modify existing `brief_en`, `brief_my`, or `relatedQuestionIds` fields — those are already complete.
- For questions that already have some fields populated, KEEP existing values and only ADD missing fields.
- Burmese text must use `font-myanmar` compatible characters (standard Myanmar Unicode).
- Keep the existing code structure and formatting patterns in each file.
- The `tricky` field goes on the Question object directly, NOT inside the explanation object.

Process each file systematically: read the file, identify which fields are missing per question, add them all, write the updated file.
  </action>
  <verify>
    <automated>pnpm vitest run src/constants/questions/questions.test.ts</automated>
    ALL tests pass including the new enrichment completeness tests from Task 1.
  </verify>
  <done>All 128 questions have mnemonic_en, funFact_en/my, commonMistake_en/my, and citation populated. 15-20 questions have tricky: true. All question bank tests pass (128 questions, enrichment complete, tricky valid).</done>
</task>

</tasks>

<verification>
- `pnpm vitest run src/constants/questions/questions.test.ts` — all tests green
- `pnpm typecheck` — no type errors
- Spot-check: 3 random questions per category have all enrichment fields
- Spot-check: tricky questions span multiple categories
</verification>

<success_criteria>
- 128/128 mnemonic_en populated
- 128/128 funFact_en + funFact_my populated
- 128/128 commonMistake_en + commonMistake_my populated
- 128/128 citation populated
- 15-20 questions have tricky: true
- All tests pass
- No type errors
</success_criteria>

<output>
After completion, create `.planning/phases/45-content-enrichment/45-01-SUMMARY.md`
</output>
