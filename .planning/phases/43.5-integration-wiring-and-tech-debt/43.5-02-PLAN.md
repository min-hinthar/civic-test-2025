---
phase: 43.5-integration-wiring-and-tech-debt
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/ROADMAP.md
  - .planning/phases/39-next-js-16-upgrade-and-tooling/39-01-SUMMARY.md
  - .planning/phases/39-next-js-16-upgrade-and-tooling/39-02-SUMMARY.md
  - .planning/phases/39-next-js-16-upgrade-and-tooling/39-03-SUMMARY.md
  - .planning/phases/39-next-js-16-upgrade-and-tooling/39-04-SUMMARY.md
  - .planning/phases/40-app-router-foundation/40-01-SUMMARY.md
  - .planning/phases/40-app-router-foundation/40-02-SUMMARY.md
  - .planning/phases/40-app-router-foundation/40-03-SUMMARY.md
  - .planning/phases/41-route-migration/41-01-SUMMARY.md
  - .planning/phases/41-route-migration/41-02-SUMMARY.md
  - .planning/phases/41-route-migration/41-03-SUMMARY.md
  - .planning/phases/41-route-migration/41-04-SUMMARY.md
  - .planning/phases/41-route-migration/41-05-SUMMARY.md
  - .planning/phases/42-csp-nonce-migration-and-pwa-update/42-01-SUMMARY.md
  - .planning/phases/42-csp-nonce-migration-and-pwa-update/42-02-SUMMARY.md
  - .planning/phases/43-test-readiness-score-and-drill-mode/43-01-SUMMARY.md
  - .planning/phases/43-test-readiness-score-and-drill-mode/43-02-SUMMARY.md
  - .planning/phases/43-test-readiness-score-and-drill-mode/43-03-SUMMARY.md
  - .planning/phases/43-test-readiness-score-and-drill-mode/43-04-SUMMARY.md
autonomous: true
requirements: [RDNS-04, RDNS-05, MIGR-12]

must_haves:
  truths:
    - ROADMAP.md Phase 40 SC-2 says "10 context providers" not "12"
    - All 18 SUMMARY.md files have requirements-completed field in YAML frontmatter
    - requirements-completed values match the v4.0 milestone audit cross-reference
  artifacts:
    - .planning/ROADMAP.md with corrected provider count
    - 18 SUMMARY.md files with requirements-completed field
  key_links:
    - SUMMARY frontmatter requirements-completed ↔ VERIFICATION.md requirement mapping ↔ REQUIREMENTS.md checkboxes (3-source cross-reference restored)
---

<objective>
Fix ROADMAP "12 providers" typo and add requirements-completed field to all 18 SUMMARY frontmatters.

Purpose: Close tech debt identified by v4.0 milestone audit — restore 3-source requirement cross-reference.
Output: Corrected ROADMAP.md + 18 updated SUMMARY.md files with requirements traceability.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/v4.0-MILESTONE-AUDIT.md
@.planning/phases/43.5-integration-wiring-and-tech-debt/43.5-RESEARCH.md

<requirement_mapping>
<!-- Verified against phase VERIFICATION.md files. Each plan maps to the requirement IDs it helped satisfy. -->

Phase 39 (MIGR-01, MIGR-02, MIGR-03):
  39-01: [MIGR-01]           # Dependency upgrades (partial MIGR-01)
  39-02: [MIGR-01, MIGR-02]  # Next.js 16 + proxy.ts rename
  39-03: [MIGR-03]           # Sentry reconfiguration
  39-04: [MIGR-01, MIGR-02, MIGR-03]  # Full verification suite

Phase 40 (MIGR-04, MIGR-07):
  40-01: [MIGR-04]           # ClientProviders creation (partial MIGR-04)
  40-02: [MIGR-04]           # Root layout (partial MIGR-04)
  40-03: [MIGR-07]           # Auth guard layout

Phase 41 (MIGR-05, MIGR-06, MIGR-08, MIGR-11, MIGR-12):
  41-01: [MIGR-05, MIGR-12]  # Route scaffolding + clean URLs
  41-02: [MIGR-11]           # API route migration
  41-03: [MIGR-05]           # Remaining route migration (partial)
  41-04: [MIGR-08]           # Page transitions template
  41-05: [MIGR-05, MIGR-06]  # Final routes + react-router-dom removal

Phase 42 (MIGR-09, MIGR-10):
  42-01: [MIGR-09]           # CSP nonce migration
  42-02: [MIGR-10]           # Service worker update

Phase 43 (RDNS-01 through RDNS-06):
  43-01: [RDNS-01, RDNS-02, RDNS-03]  # Readiness engine + tests
  43-02: [RDNS-01, RDNS-02, RDNS-04, RDNS-05]  # Dashboard hero card + drill list
  43-03: [RDNS-04, RDNS-05, RDNS-06]  # Drill page + results with mastery delta
  43-04: [RDNS-04, RDNS-05]  # Drill entry point wiring
</requirement_mapping>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix ROADMAP "12 providers" typo to "10 providers"</name>
  <files>
    .planning/ROADMAP.md
  </files>
  <action>
In `.planning/ROADMAP.md`, find Phase 40 success criteria line that reads:
```
  2. `ClientProviders.tsx` wraps all 12 context providers in correct nesting order as a `'use client'` component
```

Change `12` to `10`. The actual providers in `src/components/ClientProviders.tsx` are:
LanguageProvider, ThemeProvider, TTSProvider, ToastProvider, OfflineProvider, AuthProvider, SocialProvider, SRSProvider, StateProvider, NavigationProvider (10 total).
  </action>
  <verify>
    <automated>cd /c/Users/minkk/GitHub/civic-test-2025 && grep "context providers" .planning/ROADMAP.md</automated>
    Output should show "10 context providers" not "12"
  </verify>
  <done>
    - ROADMAP.md Phase 40 SC-2 correctly states "10 context providers"
  </done>
</task>

<task type="auto">
  <name>Task 2: Add requirements-completed field to all 18 SUMMARY frontmatters</name>
  <files>
    .planning/phases/39-next-js-16-upgrade-and-tooling/39-01-SUMMARY.md
    .planning/phases/39-next-js-16-upgrade-and-tooling/39-02-SUMMARY.md
    .planning/phases/39-next-js-16-upgrade-and-tooling/39-03-SUMMARY.md
    .planning/phases/39-next-js-16-upgrade-and-tooling/39-04-SUMMARY.md
    .planning/phases/40-app-router-foundation/40-01-SUMMARY.md
    .planning/phases/40-app-router-foundation/40-02-SUMMARY.md
    .planning/phases/40-app-router-foundation/40-03-SUMMARY.md
    .planning/phases/41-route-migration/41-01-SUMMARY.md
    .planning/phases/41-route-migration/41-02-SUMMARY.md
    .planning/phases/41-route-migration/41-03-SUMMARY.md
    .planning/phases/41-route-migration/41-04-SUMMARY.md
    .planning/phases/41-route-migration/41-05-SUMMARY.md
    .planning/phases/42-csp-nonce-migration-and-pwa-update/42-01-SUMMARY.md
    .planning/phases/42-csp-nonce-migration-and-pwa-update/42-02-SUMMARY.md
    .planning/phases/43-test-readiness-score-and-drill-mode/43-01-SUMMARY.md
    .planning/phases/43-test-readiness-score-and-drill-mode/43-02-SUMMARY.md
    .planning/phases/43-test-readiness-score-and-drill-mode/43-03-SUMMARY.md
    .planning/phases/43-test-readiness-score-and-drill-mode/43-04-SUMMARY.md
  </files>
  <action>
For each SUMMARY.md file, add a `requirements-completed` field to the YAML frontmatter. Insert it immediately after the `tags` line (before the `# Dependency graph` comment).

**Format:** `requirements-completed: [REQ-ID, REQ-ID]` (YAML flow sequence)

**Exact values for each file (from VERIFICATION.md cross-reference):**

```
39-01-SUMMARY.md: requirements-completed: [MIGR-01]
39-02-SUMMARY.md: requirements-completed: [MIGR-01, MIGR-02]
39-03-SUMMARY.md: requirements-completed: [MIGR-03]
39-04-SUMMARY.md: requirements-completed: [MIGR-01, MIGR-02, MIGR-03]
40-01-SUMMARY.md: requirements-completed: [MIGR-04]
40-02-SUMMARY.md: requirements-completed: [MIGR-04]
40-03-SUMMARY.md: requirements-completed: [MIGR-07]
41-01-SUMMARY.md: requirements-completed: [MIGR-05, MIGR-12]
41-02-SUMMARY.md: requirements-completed: [MIGR-11]
41-03-SUMMARY.md: requirements-completed: [MIGR-05]
41-04-SUMMARY.md: requirements-completed: [MIGR-08]
41-05-SUMMARY.md: requirements-completed: [MIGR-05, MIGR-06]
42-01-SUMMARY.md: requirements-completed: [MIGR-09]
42-02-SUMMARY.md: requirements-completed: [MIGR-10]
43-01-SUMMARY.md: requirements-completed: [RDNS-01, RDNS-02, RDNS-03]
43-02-SUMMARY.md: requirements-completed: [RDNS-01, RDNS-02, RDNS-04, RDNS-05]
43-03-SUMMARY.md: requirements-completed: [RDNS-04, RDNS-05, RDNS-06]
43-04-SUMMARY.md: requirements-completed: [RDNS-04, RDNS-05]
```

**Example before:**
```yaml
---
phase: 39-next-js-16-upgrade-and-tooling
plan: 01
subsystem: infra
tags: [dependencies, pnpm, sentry, ...]

# Dependency graph
```

**Example after:**
```yaml
---
phase: 39-next-js-16-upgrade-and-tooling
plan: 01
subsystem: infra
tags: [dependencies, pnpm, sentry, ...]
requirements-completed: [MIGR-01]

# Dependency graph
```

Insert the line WITHIN the `---` frontmatter block, after `tags`. Each file needs exactly one new line added.
  </action>
  <verify>
    <automated>cd /c/Users/minkk/GitHub/civic-test-2025 && grep -r "requirements-completed" .planning/phases/39-*/ .planning/phases/40-*/ .planning/phases/41-*/ .planning/phases/42-*/ .planning/phases/43-test-*/ | wc -l</automated>
    Output should be 18 (one per SUMMARY.md file)
  </verify>
  <done>
    - All 18 SUMMARY.md files have requirements-completed field
    - Values match VERIFICATION.md cross-reference data
    - 3-source cross-reference restored: VERIFICATION.md ↔ SUMMARY.md ↔ REQUIREMENTS.md
  </done>
</task>

</tasks>

<verification>
1. `grep "10 context providers" .planning/ROADMAP.md` returns match
2. `grep -r "requirements-completed" .planning/phases/ | grep SUMMARY | wc -l` returns 18
3. No SUMMARY.md files have empty `requirements-completed: []` (all have at least one requirement)
</verification>

<success_criteria>
- ROADMAP Phase 40 SC-2 says "10 context providers" (not "12")
- All 18 SUMMARY.md files have requirements-completed field with correct requirement IDs
- Milestone audit 3-source cross-reference (VERIFICATION + SUMMARY + REQUIREMENTS) fully restored
</success_criteria>

<output>
After completion, create `.planning/phases/43.5-integration-wiring-and-tech-debt/43.5-02-SUMMARY.md`
</output>
