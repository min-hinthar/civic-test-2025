---
phase: 26-gap-closure-session-nav-tts
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/interview/InterviewSession.tsx
  - src/components/sessions/UnfinishedBanner.tsx
autonomous: true
requirements:
  - LANG-03
  - SESS-06
  - FLSH-07
gap_closure: true

must_haves:
  truths:
    - "Interview realistic mode shows zero Burmese UI text (all 13+ showBurmese locations render nothing)"
    - "Interview practice mode still shows Burmese when global language is bilingual"
    - "Dashboard UnfinishedBanner for sort sessions navigates to /study#sort (sort tab active)"
  artifacts:
    - path: "src/components/interview/InterviewSession.tsx"
      provides: "showBurmese override to false for realistic mode"
      contains: "globalShowBurmese"
    - path: "src/components/sessions/UnfinishedBanner.tsx"
      provides: "Sort route returns /study#sort instead of /sort"
      contains: "/study#sort"
  key_links:
    - from: "src/components/interview/InterviewSession.tsx"
      to: "useLanguage()"
      via: "destructure as globalShowBurmese, derive showBurmese from mode"
      pattern: "globalShowBurmese"
    - from: "src/components/sessions/UnfinishedBanner.tsx"
      to: "react-router-dom navigate"
      via: "getSessionRoute('sort') returns '/study#sort'"
      pattern: "/study#sort"
---

<objective>
Fix interview English-only mode for realistic sessions and fix sort route navigation from dashboard banner.

Purpose: Two independent one-line fixes addressing three requirements. LANG-03 requires interview realistic mode to show zero Burmese UI text. SESS-06/FLSH-07 require the dashboard UnfinishedBanner to navigate to the correct sort tab route (currently navigates to dead `/sort` route).

Output: Interview realistic mode is fully English-only. Sort banner navigates to `/study#sort`.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/26-gap-closure-session-nav-tts/26-RESEARCH.md

@src/components/interview/InterviewSession.tsx (line 157: showBurmese from useLanguage)
@src/components/sessions/UnfinishedBanner.tsx (line 69-80: getSessionRoute)
@src/pages/StudyGuidePage.tsx (sort tab uses location.hash #sort)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Override showBurmese for interview realistic mode</name>
  <files>src/components/interview/InterviewSession.tsx</files>
  <action>
In `src/components/interview/InterviewSession.tsx`, find line 157:
```typescript
const { showBurmese, mode: languageMode } = useLanguage();
```

Replace with:
```typescript
const { showBurmese: globalShowBurmese, mode: languageMode } = useLanguage();
const showBurmese = mode === 'realistic' ? false : globalShowBurmese;
```

This is a local override. The `mode` prop (interview mode: 'practice' | 'realistic') is available in the component's destructured props. When `mode === 'realistic'`, `showBurmese` is forced to `false`, which causes all 13+ JSX locations that conditionally render Burmese text (e.g., `{showBurmese && <span className="font-myanmar">...</span>}`) to render nothing.

When `mode === 'practice'`, the global setting is respected -- practice mode still shows Burmese if the user has bilingual mode enabled.

IMPORTANT: Do NOT change any of the 13+ JSX locations that use `showBurmese`. They already have the correct conditional pattern (`{showBurmese && ...}`). Only the definition at the top needs to change.

Note: The `mode` variable here refers to the interview mode prop (practice/realistic), NOT `languageMode` from useLanguage(). Verify by checking the component's props interface -- it should have a `mode` prop of type `'practice' | 'realistic'`.
  </action>
  <verify>Run `npm run typecheck` to confirm the override is type-safe. Run `npm run build` to confirm production build succeeds. Search for other uses of `showBurmese` in the file to confirm they all still reference the local override variable (they do, since we kept the same name).</verify>
  <done>Interview realistic mode forces showBurmese to false. All 13+ Burmese text locations in InterviewSession render nothing in realistic mode. Practice mode still respects global language setting.</done>
</task>

<task type="auto">
  <name>Task 2: Fix sort route in UnfinishedBanner</name>
  <files>src/components/sessions/UnfinishedBanner.tsx</files>
  <action>
In `src/components/sessions/UnfinishedBanner.tsx`, find the `getSessionRoute` function (line 69-80):
```typescript
function getSessionRoute(type: SessionSnapshot['type']): string {
  switch (type) {
    case 'mock-test':
      return '/test';
    case 'practice':
      return '/practice';
    case 'interview':
      return '/interview';
    case 'sort':
      return '/sort';
  }
}
```

Change the sort case from:
```typescript
case 'sort':
  return '/sort';
```

To:
```typescript
case 'sort':
  return '/study#sort';
```

This matches how StudyGuidePage handles tab navigation -- it reads `location.hash` to determine the active tab. The `#sort` hash causes the PillTabBar to select the Sort tab (second tab in Browse, Sort, Deck, Review ordering per Phase 23 decision).

The `navigate('/study#sort')` call from react-router-dom handles hash routing correctly since the app uses hash-based routing via BrowserRouter.
  </action>
  <verify>Run `npm run typecheck` to confirm no type errors. Run `npm run build` to confirm production build succeeds. Grep for `'/sort'` in the file to confirm no other references to the dead route remain.</verify>
  <done>Dashboard UnfinishedBanner for sort sessions navigates to /study#sort. The sort tab in StudyGuidePage activates correctly when the hash is #sort.</done>
</task>

</tasks>

<verification>
1. `npm run typecheck` -- zero errors
2. `npm run build` -- production build succeeds
3. `npm run test:run` -- all existing tests pass
4. Code review: InterviewSession.tsx has `globalShowBurmese` rename + mode-based override, UnfinishedBanner.tsx sort case returns `/study#sort`
</verification>

<success_criteria>
- InterviewSession realistic mode derives showBurmese = false (overrides global)
- InterviewSession practice mode still respects global showBurmese
- UnfinishedBanner.getSessionRoute('sort') returns '/study#sort'
- No dead `/sort` route reference remains in UnfinishedBanner
- All existing tests pass, typecheck clean, build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/26-gap-closure-session-nav-tts/26-03-SUMMARY.md`
</output>
