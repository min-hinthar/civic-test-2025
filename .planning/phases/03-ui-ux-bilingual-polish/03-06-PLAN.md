---
phase: 03-ui-ux-bilingual-polish
plan: 06
type: execute
wave: 3
depends_on: ["03-01", "03-02", "03-04"]
files_modified:
  - src/components/test/CircularTimer.tsx
  - src/components/test/PreTestScreen.tsx
  - src/components/test/AnswerFeedback.tsx
  - src/components/celebrations/Confetti.tsx
  - src/components/celebrations/CountUpScore.tsx
autonomous: true

must_haves:
  truths:
    - "Timer shows circular arc that depletes smoothly"
    - "Timer color changes at thresholds (blue -> yellow -> orange -> red)"
    - "User can hide/show the timer during test"
    - "Wrong answers show soft orange, not red"
    - "Correct answers show green with mini celebration"
    - "Test completion triggers confetti and count-up score animation"
  artifacts:
    - path: "src/components/test/CircularTimer.tsx"
      provides: "Circular countdown timer with color thresholds"
      exports: ["CircularTimer"]
    - path: "src/components/test/PreTestScreen.tsx"
      provides: "Calming pre-test screen with breathing animation"
      exports: ["PreTestScreen"]
    - path: "src/components/test/AnswerFeedback.tsx"
      provides: "Soft feedback colors with icons"
      exports: ["AnswerFeedback"]
    - path: "src/components/celebrations/Confetti.tsx"
      provides: "Canvas-based confetti burst"
      exports: ["Confetti", "triggerConfetti"]
    - path: "src/components/celebrations/CountUpScore.tsx"
      provides: "Animated score count-up"
      exports: ["CountUpScore"]
  key_links:
    - from: "src/components/test/CircularTimer.tsx"
      to: "react-countdown-circle-timer"
      via: "Timer component"
      pattern: "CountdownCircleTimer"
    - from: "src/components/celebrations/Confetti.tsx"
      to: "react-canvas-confetti"
      via: "Canvas confetti"
      pattern: "ReactCanvasConfetti"
---

<objective>
Create test-specific UI components: circular timer with color thresholds, pre-test calming screen, soft answer feedback, and celebration effects.

Purpose: The test experience is high-anxiety for users. This plan implements anxiety-reducing patterns: hideable timer, soft wrong-answer feedback (orange, not red), breathing animation before test, and celebratory confetti on completion.

Output: CircularTimer, PreTestScreen, AnswerFeedback, Confetti, and CountUpScore components ready for TestPage integration.
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03-ui-ux-bilingual-polish/03-CONTEXT.md
@.planning/phases/03-ui-ux-bilingual-polish/03-RESEARCH.md
@src/lib/design-tokens.ts
@src/hooks/useReducedMotion.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CircularTimer component</name>
  <files>
    src/components/test/CircularTimer.tsx
  </files>
  <action>
Create directory `src/components/test/` if it doesn't exist.

Create `src/components/test/CircularTimer.tsx`:

```typescript
'use client';

import { useState, useCallback } from 'react';
import { CountdownCircleTimer } from 'react-countdown-circle-timer';
import { Eye, EyeOff } from 'lucide-react';
import { clsx } from 'clsx';
import { useReducedMotion } from '@/hooks/useReducedMotion';
import { strings } from '@/lib/i18n/strings';

interface CircularTimerProps {
  /** Duration in seconds */
  duration: number;
  /** Current remaining time in seconds (controlled) */
  remainingTime: number;
  /** Called when timer completes */
  onComplete?: () => void;
  /** Size of the timer */
  size?: 'sm' | 'md' | 'lg';
  /** Allow hiding the timer */
  allowHide?: boolean;
}

const sizeConfig = {
  sm: { size: 80, strokeWidth: 6, fontSize: 'text-lg' },
  md: { size: 120, strokeWidth: 8, fontSize: 'text-2xl' },
  lg: { size: 160, strokeWidth: 10, fontSize: 'text-3xl' },
};

/**
 * Get timer color based on remaining percentage.
 * Blue -> Yellow (50%) -> Orange (25%) -> Red pulse (10%)
 */
function getTimerColor(remainingTime: number, duration: number): string {
  const percent = (remainingTime / duration) * 100;

  if (percent > 50) return 'hsl(217 91% 60%)';      // Primary blue
  if (percent > 25) return 'hsl(45 93% 58%)';       // Yellow warning
  if (percent > 10) return 'hsl(32 95% 52%)';       // Orange urgent
  return 'hsl(0 72% 51%)';                           // Red critical
}

/**
 * Circular countdown timer with color thresholds.
 *
 * Features:
 * - Smooth arc depletion animation
 * - Color changes at 50%, 25%, 10% thresholds
 * - Pulse animation at 10% remaining
 * - Hide/show toggle for anxiety reduction
 * - Bilingual show/hide labels
 * - Respects prefers-reduced-motion
 */
export function CircularTimer({
  duration,
  remainingTime,
  onComplete,
  size = 'md',
  allowHide = true,
}: CircularTimerProps) {
  const [isHidden, setIsHidden] = useState(false);
  const shouldReduceMotion = useReducedMotion();
  const config = sizeConfig[size];

  const percent = (remainingTime / duration) * 100;
  const isUrgent = percent <= 10;

  const formatTime = useCallback((time: number) => {
    const minutes = Math.floor(time / 60);
    const seconds = time % 60;
    return `${minutes}:${seconds.toString().padStart(2, '0')}`;
  }, []);

  const toggleLabel = isHidden ? strings.actions.showTimer : strings.actions.hideTimer;

  return (
    <div className="flex flex-col items-center gap-2">
      {/* Timer display */}
      <div
        className={clsx(
          'relative transition-opacity duration-300',
          isHidden && 'opacity-30 blur-sm'
        )}
        aria-hidden={isHidden}
      >
        <CountdownCircleTimer
          isPlaying={!isHidden}
          duration={duration}
          initialRemainingTime={remainingTime}
          colors={['#3B82F6', '#EAB308', '#F97316', '#EF4444']}
          colorsTime={[duration, duration * 0.5, duration * 0.25, 0]}
          size={config.size}
          strokeWidth={config.strokeWidth}
          strokeLinecap="round"
          trailColor="hsl(var(--muted))"
          onComplete={onComplete}
          isSmoothColorTransition
        >
          {() => (
            <div
              className={clsx(
                'flex flex-col items-center justify-center',
                config.fontSize,
                'font-bold tabular-nums',
                isUrgent && !shouldReduceMotion && 'animate-pulse'
              )}
              style={{ color: getTimerColor(remainingTime, duration) }}
            >
              <span>{formatTime(remainingTime)}</span>
            </div>
          )}
        </CountdownCircleTimer>
      </div>

      {/* Hide/Show toggle */}
      {allowHide && (
        <button
          onClick={() => setIsHidden(!isHidden)}
          className={clsx(
            'flex items-center gap-2 px-3 py-1.5 rounded-full',
            'text-sm text-muted-foreground',
            'hover:bg-muted/50 transition-colors',
            'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500'
          )}
          aria-label={isHidden ? 'Show timer' : 'Hide timer'}
        >
          {isHidden ? (
            <Eye className="h-4 w-4" />
          ) : (
            <EyeOff className="h-4 w-4" />
          )}
          <span className="flex flex-col leading-tight">
            <span>{toggleLabel.en}</span>
            <span className="font-myanmar text-xs opacity-70">{toggleLabel.my}</span>
          </span>
        </button>
      )}
    </div>
  );
}
```
  </action>
  <verify>
Import CircularTimer in TestPage.
Render with duration={1200} remainingTime={600}.
Verify color is yellow (50% remaining).
Click hide button, verify timer blurs.
  </verify>
  <done>
CircularTimer component with color thresholds and hide/show toggle.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create PreTestScreen and AnswerFeedback components</name>
  <files>
    src/components/test/PreTestScreen.tsx
    src/components/test/AnswerFeedback.tsx
  </files>
  <action>
Create `src/components/test/PreTestScreen.tsx`:

```typescript
'use client';

import { motion } from 'motion/react';
import { useReducedMotion } from '@/hooks/useReducedMotion';
import { BilingualButton } from '@/components/bilingual/BilingualButton';
import { BilingualHeading } from '@/components/bilingual/BilingualHeading';
import { strings } from '@/lib/i18n/strings';
import { clsx } from 'clsx';

interface PreTestScreenProps {
  questionCount: number;
  durationMinutes: number;
  onReady: () => void;
}

/**
 * Calming pre-test screen with breathing animation.
 *
 * Features:
 * - Encouraging bilingual message
 * - Test info (question count, time limit)
 * - Breathing animation circle (user-controlled, runs until ready)
 * - "I'm Ready" button to start
 * - Respects prefers-reduced-motion
 */
export function PreTestScreen({
  questionCount,
  durationMinutes,
  onReady,
}: PreTestScreenProps) {
  const shouldReduceMotion = useReducedMotion();

  return (
    <div className="flex min-h-[60vh] flex-col items-center justify-center px-6 text-center">
      {/* Breathing animation circle */}
      <motion.div
        className={clsx(
          'mb-8 h-32 w-32 rounded-full',
          'bg-gradient-to-br from-primary-400 to-primary-600',
          'shadow-lg shadow-primary-500/30'
        )}
        animate={
          shouldReduceMotion
            ? {}
            : {
                scale: [1, 1.15, 1],
                opacity: [0.7, 1, 0.7],
              }
        }
        transition={{
          duration: 4,
          repeat: Infinity,
          ease: 'easeInOut',
        }}
        aria-hidden="true"
      />

      {/* Encouraging heading */}
      <BilingualHeading
        text={{
          en: "You've Got This!",
          my: 'သင်လုပ်နိုင်ပါတယ်!',
        }}
        level={1}
        size="2xl"
        centered
        className="mb-4"
      />

      {/* Encouraging message */}
      <p className="max-w-md text-muted-foreground mb-6">
        <span className="block">
          Take a deep breath. This practice test will help you prepare for your citizenship journey.
        </span>
        <span className="block font-myanmar mt-1">
          အသက်ရှုနက်နက်ရှူပါ။ ဤလေ့ကျင့်ခန်းက သင့်နိုင်ငံသားဖြစ်ခြင်းခရီးအတွက် အကူအညီဖြစ်ပါလိမ့်မယ်။
        </span>
      </p>

      {/* Test info */}
      <div className="mb-8 flex gap-6 text-sm text-muted-foreground">
        <div className="flex flex-col items-center">
          <span className="text-2xl font-bold text-foreground">{questionCount}</span>
          <span>Questions / မေးခွန်းများ</span>
        </div>
        <div className="flex flex-col items-center">
          <span className="text-2xl font-bold text-foreground">{durationMinutes}</span>
          <span>Minutes / မိနစ်</span>
        </div>
      </div>

      {/* Ready button */}
      <BilingualButton
        label={strings.actions.iAmReady}
        variant="primary"
        size="lg"
        onClick={onReady}
      />

      {/* Pass threshold info */}
      <p className="mt-6 text-sm text-muted-foreground">
        {strings.test.passThreshold.en}
        <span className="block font-myanmar">{strings.test.passThreshold.my}</span>
      </p>
    </div>
  );
}
```

Create `src/components/test/AnswerFeedback.tsx`:

```typescript
'use client';

import { motion, AnimatePresence } from 'motion/react';
import { Check, X } from 'lucide-react';
import { clsx } from 'clsx';
import { useReducedMotion } from '@/hooks/useReducedMotion';
import { getRandomCorrectEncouragement, getRandomIncorrectEncouragement } from '@/lib/i18n/strings';

interface AnswerFeedbackProps {
  isCorrect: boolean;
  show: boolean;
  correctAnswer?: string;
  correctAnswerMy?: string;
}

/**
 * Soft feedback display for answer results.
 *
 * Features:
 * - Green for correct with checkmark icon
 * - Soft orange for incorrect with X icon (never red)
 * - Bilingual encouragement message (rotating variety)
 * - Shows correct answer for incorrect responses
 * - Respects prefers-reduced-motion
 */
export function AnswerFeedback({
  isCorrect,
  show,
  correctAnswer,
  correctAnswerMy,
}: AnswerFeedbackProps) {
  const shouldReduceMotion = useReducedMotion();

  const encouragement = isCorrect
    ? getRandomCorrectEncouragement()
    : getRandomIncorrectEncouragement();

  return (
    <AnimatePresence mode="wait">
      {show && (
        <motion.div
          initial={shouldReduceMotion ? { opacity: 1 } : { opacity: 0, y: 10 }}
          animate={{ opacity: 1, y: 0 }}
          exit={shouldReduceMotion ? { opacity: 1 } : { opacity: 0, y: -10 }}
          transition={{ duration: 0.2 }}
          className={clsx(
            'rounded-2xl p-4 border',
            isCorrect
              ? 'bg-success-50 border-success-500 dark:bg-success-500/10'
              : 'bg-warning-50 border-warning-500 dark:bg-warning-500/10'
          )}
        >
          <div className="flex items-start gap-3">
            {/* Icon */}
            <div
              className={clsx(
                'flex h-8 w-8 shrink-0 items-center justify-center rounded-full',
                isCorrect ? 'bg-success-500 text-white' : 'bg-warning-500 text-white'
              )}
            >
              {isCorrect ? (
                <Check className="h-5 w-5" />
              ) : (
                <X className="h-5 w-5" />
              )}
            </div>

            {/* Content */}
            <div className="flex-1">
              {/* Encouragement */}
              <p className="font-semibold text-foreground">
                {encouragement.en}
                <span className="block font-myanmar text-sm font-normal text-muted-foreground mt-0.5">
                  {encouragement.my}
                </span>
              </p>

              {/* Show correct answer for incorrect */}
              {!isCorrect && correctAnswer && (
                <div className="mt-3 pt-3 border-t border-warning-500/30">
                  <p className="text-sm text-muted-foreground">
                    Correct answer:
                    <span className="block font-myanmar">မှန်ကန်သောအဖြေ:</span>
                  </p>
                  <p className="mt-1 font-medium text-foreground">
                    {correctAnswer}
                    {correctAnswerMy && (
                      <span className="block font-myanmar text-muted-foreground">
                        {correctAnswerMy}
                      </span>
                    )}
                  </p>
                </div>
              )}
            </div>
          </div>
        </motion.div>
      )}
    </AnimatePresence>
  );
}

/**
 * Answer option styling based on state
 */
export function getAnswerOptionClasses(
  isSelected: boolean,
  isCorrect: boolean | null,
  isDisabled: boolean
): string {
  // Not yet answered
  if (isCorrect === null) {
    return clsx(
      'border-2 rounded-2xl p-4 transition-all cursor-pointer',
      'hover:border-primary-400 hover:bg-primary-50/50 hover:shadow-md',
      'dark:hover:bg-primary-500/10',
      isSelected
        ? 'border-primary-500 bg-primary-50 shadow-md dark:bg-primary-500/10'
        : 'border-border bg-card'
    );
  }

  // After answer - correct option
  if (isCorrect) {
    return clsx(
      'border-2 rounded-2xl p-4',
      'border-success-500 bg-success-50 dark:bg-success-500/10'
    );
  }

  // After answer - incorrect selected option
  if (isSelected && !isCorrect) {
    return clsx(
      'border-2 rounded-2xl p-4',
      'border-warning-500 bg-warning-50 dark:bg-warning-500/10'
    );
  }

  // After answer - other options (dimmed)
  return clsx(
    'border-2 rounded-2xl p-4',
    'border-border bg-card opacity-50',
    isDisabled && 'cursor-not-allowed'
  );
}
```
  </action>
  <verify>
Render PreTestScreen with onReady callback.
Verify breathing animation (circle scaling).
Click "I'm Ready" button, verify callback fires.
Render AnswerFeedback with isCorrect=false.
Verify orange background (not red).
  </verify>
  <done>
PreTestScreen with breathing animation and AnswerFeedback with soft orange for wrong answers.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create Confetti and CountUpScore celebration components</name>
  <files>
    src/components/celebrations/Confetti.tsx
    src/components/celebrations/CountUpScore.tsx
  </files>
  <action>
Create directory `src/components/celebrations/` if it doesn't exist.

Create `src/components/celebrations/Confetti.tsx`:

```typescript
'use client';

import { useCallback, useRef, useEffect } from 'react';
import ReactCanvasConfetti from 'react-canvas-confetti';
import type { CreateTypes, Options } from 'canvas-confetti';
import { useReducedMotion } from '@/hooks/useReducedMotion';

// Confetti preset options
const confettiDefaults: Options = {
  spread: 360,
  ticks: 100,
  gravity: 0.8,
  decay: 0.94,
  startVelocity: 30,
  colors: ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#EC4899'],
};

interface ConfettiProps {
  /** Trigger confetti burst */
  fire: boolean;
  /** Intensity: small sparkle, medium burst, or full celebration */
  intensity?: 'sparkle' | 'burst' | 'celebration';
  /** Called when animation completes */
  onComplete?: () => void;
}

/**
 * Canvas-based confetti celebration effect.
 *
 * Features:
 * - Three intensity levels (sparkle, burst, celebration)
 * - Smooth, performant canvas animation
 * - Respects prefers-reduced-motion (shows static sparkle icon instead)
 *
 * Usage:
 * ```tsx
 * const [showConfetti, setShowConfetti] = useState(false);
 * <Confetti fire={showConfetti} intensity="celebration" onComplete={() => setShowConfetti(false)} />
 * ```
 */
export function Confetti({ fire, intensity = 'burst', onComplete }: ConfettiProps) {
  const refAnimationInstance = useRef<CreateTypes | null>(null);
  const shouldReduceMotion = useReducedMotion();

  const getInstance = useCallback((instance: CreateTypes | null) => {
    refAnimationInstance.current = instance;
  }, []);

  const fireConfetti = useCallback(() => {
    if (!refAnimationInstance.current || shouldReduceMotion) return;

    const instance = refAnimationInstance.current;

    switch (intensity) {
      case 'sparkle':
        // Small sparkle - single burst
        instance({
          ...confettiDefaults,
          particleCount: 30,
          spread: 60,
          origin: { x: 0.5, y: 0.6 },
        });
        break;

      case 'burst':
        // Medium burst - two-shot
        instance({
          ...confettiDefaults,
          particleCount: 50,
          origin: { x: 0.5, y: 0.5 },
        });
        setTimeout(() => {
          instance?.({
            ...confettiDefaults,
            particleCount: 30,
            origin: { x: 0.5, y: 0.5 },
          });
        }, 150);
        break;

      case 'celebration':
        // Full celebration - fireworks effect
        const duration = 3000;
        const animationEnd = Date.now() + duration;

        const interval = setInterval(() => {
          const timeLeft = animationEnd - Date.now();
          if (timeLeft <= 0) {
            clearInterval(interval);
            onComplete?.();
            return;
          }

          const particleCount = 50 * (timeLeft / duration);

          // Left side
          instance({
            ...confettiDefaults,
            particleCount,
            origin: { x: Math.random() * 0.3, y: Math.random() - 0.2 },
          });
          // Right side
          instance({
            ...confettiDefaults,
            particleCount,
            origin: { x: Math.random() * 0.3 + 0.7, y: Math.random() - 0.2 },
          });
        }, 250);
        break;
    }

    // For non-celebration, call complete after short delay
    if (intensity !== 'celebration') {
      setTimeout(() => onComplete?.(), 1000);
    }
  }, [intensity, onComplete, shouldReduceMotion]);

  useEffect(() => {
    if (fire) {
      fireConfetti();
    }
  }, [fire, fireConfetti]);

  // Don't render canvas if reduced motion
  if (shouldReduceMotion) {
    return null;
  }

  return (
    <ReactCanvasConfetti
      refConfetti={getInstance}
      style={{
        position: 'fixed',
        pointerEvents: 'none',
        width: '100%',
        height: '100%',
        top: 0,
        left: 0,
        zIndex: 100,
      }}
    />
  );
}

/**
 * Hook to trigger confetti imperatively
 */
export function useConfetti() {
  const confettiRef = useRef<CreateTypes | null>(null);
  const shouldReduceMotion = useReducedMotion();

  const setInstance = useCallback((instance: CreateTypes | null) => {
    confettiRef.current = instance;
  }, []);

  const fire = useCallback(
    (options?: Partial<Options>) => {
      if (!confettiRef.current || shouldReduceMotion) return;
      confettiRef.current({
        ...confettiDefaults,
        ...options,
      });
    },
    [shouldReduceMotion]
  );

  return { setInstance, fire };
}
```

Create `src/components/celebrations/CountUpScore.tsx`:

```typescript
'use client';

import { useEffect, useState } from 'react';
import CountUp from 'react-countup';
import { motion } from 'motion/react';
import { useReducedMotion } from '@/hooks/useReducedMotion';
import { clsx } from 'clsx';

interface CountUpScoreProps {
  /** Final score value */
  score: number;
  /** Total possible (for "X of Y" display) */
  total: number;
  /** Delay before counting starts (ms) */
  delay?: number;
  /** Duration of count animation (seconds) */
  duration?: number;
  /** Show as percentage */
  showPercentage?: boolean;
  /** Size variant */
  size?: 'md' | 'lg' | 'xl';
  /** Called when count-up completes */
  onComplete?: () => void;
}

const sizeClasses = {
  md: 'text-4xl',
  lg: 'text-5xl',
  xl: 'text-6xl',
};

/**
 * Animated score count-up display.
 *
 * Features:
 * - Counts from 0 to final score with easing
 * - Optional percentage display
 * - Respects prefers-reduced-motion (shows final score immediately)
 *
 * Usage:
 * ```tsx
 * <CountUpScore score={85} total={100} onComplete={() => triggerConfetti()} />
 * ```
 */
export function CountUpScore({
  score,
  total,
  delay = 500,
  duration = 2,
  showPercentage = false,
  size = 'lg',
  onComplete,
}: CountUpScoreProps) {
  const shouldReduceMotion = useReducedMotion();
  const [hasStarted, setHasStarted] = useState(false);

  useEffect(() => {
    const timer = setTimeout(() => setHasStarted(true), delay);
    return () => clearTimeout(timer);
  }, [delay]);

  const percentage = Math.round((score / total) * 100);
  const isPassing = percentage >= 60; // 12/20 = 60%

  // Reduced motion: show final score immediately
  if (shouldReduceMotion) {
    return (
      <div className="flex flex-col items-center">
        <span
          className={clsx(
            'font-bold tabular-nums',
            sizeClasses[size],
            isPassing ? 'text-success-500' : 'text-warning-500'
          )}
        >
          {showPercentage ? `${percentage}%` : score}
        </span>
        {!showPercentage && (
          <span className="text-xl text-muted-foreground">/ {total}</span>
        )}
      </div>
    );
  }

  return (
    <motion.div
      initial={{ scale: 0.5, opacity: 0 }}
      animate={{ scale: 1, opacity: 1 }}
      transition={{ delay: delay / 1000, type: 'spring', stiffness: 200 }}
      className="flex flex-col items-center"
    >
      <span
        className={clsx(
          'font-bold tabular-nums',
          sizeClasses[size],
          isPassing ? 'text-success-500' : 'text-warning-500'
        )}
      >
        {hasStarted ? (
          <CountUp
            start={0}
            end={showPercentage ? percentage : score}
            duration={duration}
            suffix={showPercentage ? '%' : ''}
            onEnd={onComplete}
          />
        ) : (
          showPercentage ? '0%' : '0'
        )}
      </span>
      {!showPercentage && (
        <span className="text-xl text-muted-foreground">/ {total}</span>
      )}
    </motion.div>
  );
}

/**
 * Rolling odometer-style number animation
 */
export function OdometerNumber({
  value,
  className,
}: {
  value: number;
  className?: string;
}) {
  const shouldReduceMotion = useReducedMotion();

  if (shouldReduceMotion) {
    return <span className={className}>{value}</span>;
  }

  return (
    <CountUp
      start={Math.max(0, value - 1)}
      end={value}
      duration={0.5}
      preserveValue
      className={className}
    />
  );
}
```

Create an index file `src/components/celebrations/index.ts`:

```typescript
export { Confetti, useConfetti } from './Confetti';
export { CountUpScore, OdometerNumber } from './CountUpScore';
```
  </action>
  <verify>
Render Confetti with fire={true} intensity="celebration".
Verify confetti bursts from sides.
Render CountUpScore with score={15} total={20}.
Verify count animates from 0 to 15.
Test with reduced motion enabled - should show final value instantly.
  </verify>
  <done>
Confetti celebration effect and CountUpScore animation components.
  </done>
</task>

</tasks>

<verification>
1. `pnpm run build` completes without errors
2. CircularTimer shows colored arc that animates
3. Timer color changes: blue (>50%) -> yellow (>25%) -> orange (>10%) -> red
4. Hide/show timer toggle works with blur effect
5. PreTestScreen shows breathing animation
6. AnswerFeedback uses orange (not red) for incorrect
7. Confetti fires with three intensity levels
8. CountUpScore animates from 0 to final value
9. All animations disabled with prefers-reduced-motion
</verification>

<success_criteria>
- CircularTimer uses react-countdown-circle-timer with color thresholds
- Timer has hide/show toggle with bilingual labels
- PreTestScreen has breathing animation and "I'm Ready" button
- AnswerFeedback uses soft orange (warning-500) for incorrect, green (success-500) for correct
- Confetti has three intensities: sparkle, burst, celebration
- CountUpScore animates with suspenseful delay
- All components respect prefers-reduced-motion
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-ui-ux-bilingual-polish/03-06-SUMMARY.md`
</output>
