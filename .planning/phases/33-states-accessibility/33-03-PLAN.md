---
phase: 33-states-accessibility
plan: 03
type: execute
wave: 2
depends_on:
  - 33-01
files_modified:
  - src/components/dashboard/DashboardSkeleton.tsx
  - src/components/dashboard/Dashboard.tsx
  - src/components/dashboard/DashboardEmptyState.tsx
  - src/components/hub/HubSkeleton.tsx
  - src/components/hub/OverviewTab.tsx
  - src/components/hub/HistoryTab.tsx
  - src/components/hub/AchievementsTab.tsx
  - src/pages/StudyGuidePage.tsx
  - src/pages/SettingsPage.tsx
  - src/components/srs/DeckManager.tsx
autonomous: true
requirements:
  - STAT-01
  - STAT-02

must_haves:
  truths:
    - "Dashboard shows a skeleton that matches its layout while async content loads"
    - "Study Guide shows a skeleton while category data loads"
    - "Settings page shows a skeleton while preferences load"
    - "All Hub tabs (Overview, History, Achievements) show skeletons with aria-labels while loading"
    - "New users with zero data see a designed EmptyState with CTA on Dashboard"
    - "Hub History with no sessions shows EmptyState with encouragement and Study CTA"
    - "Hub Achievements with no badges shows EmptyState with locked badge hint and Study CTA"
    - "SRS Deck with no cards shows EmptyState with spaced repetition explanation and Study CTA"
  artifacts:
    - path: "src/components/dashboard/DashboardSkeleton.tsx"
      provides: "Full-page skeleton matching Dashboard layout (stat cards, NBA hero, recent activity)"
    - path: "src/components/dashboard/DashboardEmptyState.tsx"
      provides: "New-user welcome with 3-step quick start guide"
    - path: "src/components/hub/HubSkeleton.tsx"
      provides: "Enhanced Hub skeletons with aria-labels"
  key_links:
    - from: "src/components/dashboard/Dashboard.tsx"
      to: "src/components/dashboard/DashboardSkeleton.tsx"
      via: "conditional rendering on loading state"
      pattern: "isLoading.*DashboardSkeleton"
    - from: "src/components/dashboard/Dashboard.tsx"
      to: "src/components/dashboard/DashboardEmptyState.tsx"
      via: "conditional rendering on zero-data state"
      pattern: "isEmpty.*DashboardEmptyState"
    - from: "src/components/srs/DeckManager.tsx"
      to: "src/components/ui/EmptyState.tsx"
      via: "import EmptyState"
      pattern: "EmptyState"
---

<objective>
Wire skeleton screens and empty states into all screens that have async content or zero-data conditions: Dashboard, Study Guide, Settings, all Hub tabs, and SRS Deck.

Purpose: STAT-01 and STAT-02 require that users never see blank screens during loading or when they have no data. Every screen gets a polished loading state and an encouraging empty state with clear next-step CTAs.
Output: Skeleton and empty state coverage across all major screens, using the reusable components from Plan 01.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-states-accessibility/33-CONTEXT.md
@.planning/phases/33-states-accessibility/33-RESEARCH.md
@.planning/phases/33-states-accessibility/33-01-SUMMARY.md
@src/components/dashboard/Dashboard.tsx
@src/components/hub/HubSkeleton.tsx
@src/components/hub/OverviewTab.tsx
@src/components/hub/HistoryTab.tsx
@src/components/hub/AchievementsTab.tsx
@src/pages/StudyGuidePage.tsx
@src/pages/SettingsPage.tsx
@src/components/srs/DeckManager.tsx
@src/components/ui/Skeleton.tsx
@src/components/ui/EmptyState.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Dashboard skeleton and empty state, wire into Dashboard</name>
  <files>
    src/components/dashboard/DashboardSkeleton.tsx
    src/components/dashboard/DashboardEmptyState.tsx
    src/components/dashboard/Dashboard.tsx
  </files>
  <action>
    **DashboardSkeleton.tsx (NEW):**
    - Create a skeleton that approximates the Dashboard layout:
      - Top: 3-4 stat card skeletons in a grid (Skeleton with `rounded-2xl` matching card radius, ~h-24 each)
      - Middle: NBA Hero section skeleton (larger rectangle, ~h-40)
      - Bottom: Recent activity list (3-4 Skeleton rows, ~h-16 each)
    - Use the enhanced Skeleton component from Plan 01 with `variant="accent"` for accent-tinted shimmer
    - Apply stagger: pass `index` prop to each Skeleton for sequential reveal
    - Wrap in a container with `aria-label="Loading Dashboard..."` and `role="status"`
    - Use approximate shapes per user decision (general blocks, not pixel-perfect)

    **DashboardEmptyState.tsx (NEW):**
    - Per user decision: "Welcome + quick start for new users -- steps: 1) Pick a category 2) Start studying 3) Track progress"
    - Use the `EmptyState` component from Plan 01 as the base
    - Icon: `Compass` or `Sparkles` from lucide-react (welcoming), with themed color
    - Title: "Welcome! Here's how to get started" / Burmese equivalent
    - Description: Three numbered steps: "1. Pick a category that interests you / 2. Start studying with flashcards or practice tests / 3. Track your progress and watch yourself improve"
    - CTA: "Start Studying" button that navigates to Study Guide (`#/study`)
    - Use `useNavigate()` from react-router-dom for the CTA

    **Dashboard.tsx integration:**
    - Read existing Dashboard component to understand its loading pattern
    - If `isLoading` (or equivalent loading state), render `<DashboardSkeleton />` instead of content
    - If loaded but zero data (no sessions, no mastery, no recent activity), render `<DashboardEmptyState />`
    - Determine zero-data condition by checking existing state: if user has never completed any session and has no SRS cards
    - Keep existing Dashboard content for users who have data
  </action>
  <verify>
    - `npm run typecheck` passes
    - `npm run lint` passes
    - Dashboard shows skeleton during load
    - Dashboard shows welcome empty state for new users with CTA
  </verify>
  <done>
    Dashboard renders DashboardSkeleton with accent-tinted shimmer and aria-label during loading, and DashboardEmptyState with 3-step welcome guide and "Start Studying" CTA when user has no data. Existing Dashboard content renders normally for users with data.
  </done>
</task>

<task type="auto">
  <name>Task 2: Enhance Hub skeletons, wire empty states into Hub tabs and SRS Deck</name>
  <files>
    src/components/hub/HubSkeleton.tsx
    src/components/hub/OverviewTab.tsx
    src/components/hub/HistoryTab.tsx
    src/components/hub/AchievementsTab.tsx
    src/pages/StudyGuidePage.tsx
    src/pages/SettingsPage.tsx
    src/components/srs/DeckManager.tsx
  </files>
  <action>
    **HubSkeleton.tsx enhancement:**
    - Read existing HubSkeleton to understand current prismatic skeleton structure
    - Add `aria-label` props to each tab skeleton wrapper: "Loading Overview...", "Loading History...", "Loading Achievements..."
    - Add `role="status"` to each skeleton container
    - The existing prismatic shimmer style is acceptable (it uses the app's accent palette, which satisfies "accent-tinted" user decision). Do NOT change the prismatic visual style.

    **Hub tab empty states:**
    Read each tab to understand its existing empty state handling, then:

    - **HistoryTab.tsx**: If it already has inline empty state (research suggests it does), refactor to use the `<EmptyState>` component. Icon: `Clock` (lucide), color: blue category color. Title: "No study sessions yet" / Burmese. Description: "Start your first session to see your history here" / Burmese. CTA: "Start Studying" -> navigate to `#/study`.

    - **AchievementsTab.tsx**: If it already has a card for "Start earning badges!", refactor to use `<EmptyState>`. Icon: `Trophy` (lucide), color: gold/amber. Title: "No badges earned yet" / Burmese. Description: "Complete study sessions and reach milestones to earn badges" / Burmese. CTA: "Start Studying" -> `#/study`.

    - **OverviewTab.tsx**: If `WelcomeState` component exists for zero-mastery, ensure it uses `<EmptyState>` pattern or at minimum has consistent visual style. If it already has rich content, leave it and just ensure aria-label on skeleton.

    **StudyGuidePage.tsx:**
    - Read existing code to find loading state
    - If a loading state exists, add a skeleton (use Skeleton components in a grid matching the category card layout). Add `aria-label="Loading Study Guide..."`.
    - If no loading state exists (categories are static from constants), skip skeleton (data is synchronous).

    **SettingsPage.tsx:**
    - Read existing code. Settings likely loads preferences from localStorage (synchronous).
    - If there IS an async loading state (user profile from Supabase), add a simple skeleton matching settings list layout
    - If all synchronous, skip skeleton (no loading state needed for sync data)

    **DeckManager.tsx (SRS Deck empty state):**
    - Read existing DeckManager to find its empty state
    - If it has one, refactor to use `<EmptyState>`. Icon: `Layers` (lucide), color: primary. Title: "Your SRS deck is empty" / Burmese. Description: "Spaced repetition helps you remember - cards come back at the right time. Add cards from study sessions!" / Burmese. CTA: "Start Studying" -> `#/study`.
    - Per user decision: SRS empty state should briefly educate about spaced repetition since target audience may not know the concept.
  </action>
  <verify>
    - `npm run typecheck` passes
    - `npm run lint` passes
    - Hub skeletons have aria-labels for screen readers
    - Hub History, Achievements show EmptyState when no data
    - SRS Deck shows spaced repetition explanation when empty
    - StudyGuide and Settings have appropriate skeleton or skip (based on sync vs async data)
  </verify>
  <done>
    All Hub tab skeletons have aria-label for accessibility. Hub History, Achievements, and SRS Deck use the reusable EmptyState component with bilingual text, themed icons, and CTAs. StudyGuide and Settings have skeletons if they have async content. No screen shows blank content during loading or zero-data state.
  </done>
</task>

</tasks>

<verification>
- `npm run typecheck` passes
- `npm run lint` passes
- Dashboard: skeleton visible during load, empty state visible for new users
- Hub tabs: skeletons have aria-labels, empty states show for zero-data
- SRS Deck: empty state explains spaced repetition with CTA
- All EmptyState instances have bilingual text and CTAs
</verification>

<success_criteria>
1. Dashboard has skeleton + empty state wired
2. All 3 Hub tab skeletons have aria-labels
3. Hub History, Hub Achievements, SRS Deck use EmptyState with themed icons and CTAs
4. StudyGuide and Settings have loading states if applicable
5. No screen shows blank content during loading or zero-data conditions
</success_criteria>

<output>
After completion, create `.planning/phases/33-states-accessibility/33-03-SUMMARY.md`
</output>

