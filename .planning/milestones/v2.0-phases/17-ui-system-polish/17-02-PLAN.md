---
phase: 17-ui-system-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/motion-config.ts
  - src/components/ui/GlassCard.tsx
autonomous: true

must_haves:
  truths:
    - "Shared spring configs (SPRING_BOUNCY, SPRING_SNAPPY, SPRING_GENTLE) are importable from a single module"
    - "GlassCard component accepts a tier prop with 'light' | 'medium' | 'heavy' and applies the corresponding glass class + prismatic border"
    - "GlassCard with interactive prop shows hover lift animation"
    - "Existing GlassCard imports from hub/ continue to work (re-export from old path)"
  artifacts:
    - path: "src/lib/motion-config.ts"
      provides: "Shared spring animation configurations"
      exports: ["SPRING_BOUNCY", "SPRING_SNAPPY", "SPRING_GENTLE"]
    - path: "src/components/ui/GlassCard.tsx"
      provides: "Tiered glass card component with prismatic border"
      contains: "tier"
  key_links:
    - from: "src/components/ui/GlassCard.tsx"
      to: "src/styles/globals.css"
      via: "CSS class application"
      pattern: "glass-(light|medium|heavy)"
    - from: "src/components/hub/GlassCard.tsx"
      to: "src/components/ui/GlassCard.tsx"
      via: "re-export"
      pattern: "export.*from.*ui/GlassCard"
---

<objective>
Create the shared motion configuration module and upgrade GlassCard to a tiered, prismatic-bordered component in the ui/ directory.

Purpose: All micro-interaction work in later plans imports spring configs from one place. GlassCard becomes the universal card component for the entire app.
Output: motion-config.ts with spring presets, GlassCard.tsx in ui/ with tier support, backward-compat re-export from hub/.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/17-ui-system-polish/17-RESEARCH.md
@src/components/hub/GlassCard.tsx
@src/components/ui/Button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create shared spring configuration module</name>
  <files>src/lib/motion-config.ts</files>
  <action>
  Create `src/lib/motion-config.ts` with shared spring animation presets matching the "playful + bouncy" personality:

  ```typescript
  /**
   * Shared spring animation configurations for the "playful + bouncy" personality.
   *
   * SPRING_BOUNCY: Primary interactions (button press, card tap) - visible overshoot
   * SPRING_SNAPPY: Secondary interactions (tab switch, indicator slide) - quick with slight bounce
   * SPRING_GENTLE: Large element animations (page transitions, progress fill) - smooth with subtle overshoot
   */

  export const SPRING_BOUNCY = {
    type: 'spring' as const,
    stiffness: 400,
    damping: 15,
    mass: 0.8,
  };

  export const SPRING_SNAPPY = {
    type: 'spring' as const,
    stiffness: 500,
    damping: 25,
  };

  export const SPRING_GENTLE = {
    type: 'spring' as const,
    stiffness: 200,
    damping: 20,
  };

  /**
   * Stagger timing presets for list/grid animations.
   * Values in seconds (for motion/react staggerChildren).
   */
  export const STAGGER_FAST = 0.04;    // 40ms between items
  export const STAGGER_DEFAULT = 0.06; // 60ms between items
  export const STAGGER_SLOW = 0.1;     // 100ms between items
  ```

  This module has NO React dependencies (pure constants), so it can be imported anywhere without violating rules-of-hooks.
  </action>
  <verify>Run `npx tsc --noEmit` -- no type errors. Verify exports are importable.</verify>
  <done>motion-config.ts exports SPRING_BOUNCY, SPRING_SNAPPY, SPRING_GENTLE, and STAGGER_* constants.</done>
</task>

<task type="auto">
  <name>Task 2: Upgrade GlassCard component with tier system and prismatic border</name>
  <files>src/components/ui/GlassCard.tsx, src/components/hub/GlassCard.tsx</files>
  <action>
  **Create `src/components/ui/GlassCard.tsx`:**

  New tiered GlassCard component:

  ```typescript
  'use client';

  import { type HTMLAttributes, type ReactNode } from 'react';
  import clsx from 'clsx';

  export type GlassTier = 'light' | 'medium' | 'heavy';

  interface GlassCardProps extends HTMLAttributes<HTMLDivElement> {
    children: ReactNode;
    /** Glass blur intensity tier. Default: 'light' */
    tier?: GlassTier;
    /** Enable hover lift + shadow intensification */
    interactive?: boolean;
    className?: string;
  }

  const TIER_CLASSES: Record<GlassTier, string> = {
    light: 'glass-light prismatic-border',
    medium: 'glass-medium prismatic-border',
    heavy: 'glass-heavy prismatic-border',
  };

  /**
   * Premium glass-morphism card with tiered blur, prismatic rainbow border,
   * and optional interactive hover effects.
   *
   * Tiers:
   * - light (default): Regular cards, list items. 16px blur.
   * - medium: Hero cards, featured content. 24px blur.
   * - heavy: Modals, navigation overlays. 32px blur.
   *
   * Falls back to opaque backgrounds via @supports in globals.css.
   */
  export function GlassCard({
    children,
    tier = 'light',
    interactive = false,
    className,
    ...rest
  }: GlassCardProps) {
    return (
      <div
        className={clsx(
          TIER_CLASSES[tier],
          'p-5',
          interactive && 'glass-card-interactive cursor-pointer',
          className
        )}
        {...rest}
      >
        {children}
      </div>
    );
  }
  ```

  **Update `src/components/hub/GlassCard.tsx` to re-export from ui/:**

  Replace the entire file contents with:
  ```typescript
  /**
   * Backward compatibility re-export.
   * GlassCard has moved to src/components/ui/GlassCard.tsx.
   */
  export { GlassCard } from '@/components/ui/GlassCard';
  export type { GlassTier } from '@/components/ui/GlassCard';
  ```

  This ensures all existing imports from `@/components/hub/GlassCard` continue to work without modification. The `'use client'` directive is NOT needed in a re-export file.
  </action>
  <verify>
  1. Run `npx tsc --noEmit` -- zero type errors
  2. Run `npx next build` -- zero errors
  3. Grep for `from.*hub/GlassCard` to confirm all existing imports still resolve
  </verify>
  <done>GlassCard.tsx lives in ui/ with tier prop (light/medium/heavy), prismatic-border class, and interactive mode. hub/GlassCard.tsx re-exports for backward compatibility. All existing imports compile.</done>
</task>

</tasks>

<verification>
1. `npx next build` succeeds with zero errors
2. `src/lib/motion-config.ts` exports SPRING_BOUNCY, SPRING_SNAPPY, SPRING_GENTLE
3. `src/components/ui/GlassCard.tsx` exists and accepts `tier` prop
4. `src/components/hub/GlassCard.tsx` re-exports from ui/
5. All existing GlassCard usages compile without changes
</verification>

<success_criteria>
Shared spring configs are importable from one module. GlassCard supports three tiers with prismatic borders. All existing imports work via re-export.
</success_criteria>

<output>
After completion, create `.planning/phases/17-ui-system-polish/17-02-SUMMARY.md`
</output>
