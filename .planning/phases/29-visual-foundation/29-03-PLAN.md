---
phase: 29-visual-foundation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/social/ShareButton.tsx
  - src/components/srs/AddToDeckButton.tsx
  - src/components/ui/Dialog.tsx
autonomous: true
requirements:
  - VISC-04

must_haves:
  truths:
    - "ShareButton compact variant has a minimum 44x44px touch target"
    - "AddToDeckButton compact variant has a minimum 44x44px touch target"
    - "Dialog close button has a minimum 44x44px touch target"
    - "Visual appearance of all three buttons is unchanged (icon size stays the same)"
  artifacts:
    - path: "src/components/social/ShareButton.tsx"
      provides: "Touch-target-compliant compact share button"
      contains: "min-h-[44px]"
    - path: "src/components/srs/AddToDeckButton.tsx"
      provides: "Touch-target-compliant compact add-to-deck button"
      contains: "min-h-[44px]"
    - path: "src/components/ui/Dialog.tsx"
      provides: "Touch-target-compliant dialog close button"
  key_links:
    - from: "src/components/social/ShareButton.tsx"
      to: "h-8 w-8"
      via: "min-h/min-w added alongside visual size"
      pattern: "min-h-\\[44px\\].*min-w-\\[44px\\]"
---

<objective>
Fix touch target violations on three compact interactive elements.

Purpose: All interactive elements must pass a 44x44px minimum touch target (VISC-04). Three known violations exist: ShareButton compact, AddToDeckButton compact, and Dialog close button. Fix all three while preserving visual appearance.
Output: Three updated components with compliant touch targets.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/social/ShareButton.tsx
@src/components/srs/AddToDeckButton.tsx
@src/components/ui/Dialog.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix ShareButton and AddToDeckButton compact touch targets</name>
  <files>src/components/social/ShareButton.tsx, src/components/srs/AddToDeckButton.tsx</files>
  <action>
**ShareButton.tsx:** Find the compact variant's `motion.button` element. It has `className` containing `h-8 w-8`. Add `min-h-[44px] min-w-[44px]` to the className string.

The line currently looks like:
```
'h-8 w-8',
```
Change to:
```
'h-8 w-8 min-h-[44px] min-w-[44px]',
```

This preserves the 32px visual icon container while expanding the touchable area to 44px. The button uses `inline-flex items-center justify-center`, so the icon stays centered in the larger touch area.

**AddToDeckButton.tsx:** Same fix. Find the compact variant's `motion.button` element with `h-8 w-8` in the className and add `min-h-[44px] min-w-[44px]`.

Do NOT change the icon sizes (h-4 w-4 or similar inside the buttons) -- only the outer button container's minimum dimensions.
  </action>
  <verify>
Run `npm run build` -- must succeed.
Run `grep "min-h-\[44px\]" src/components/social/ShareButton.tsx` -- should return 1 match.
Run `grep "min-h-\[44px\]" src/components/srs/AddToDeckButton.tsx` -- should return 1 match.
  </verify>
  <done>Both compact button variants have 44x44px minimum touch targets while maintaining their 32px visual appearance.</done>
</task>

<task type="auto">
  <name>Task 2: Fix Dialog close button touch target</name>
  <files>src/components/ui/Dialog.tsx</files>
  <action>
In `DialogContent`, find the `DialogPrimitive.Close` element (the X close button). It currently has:
```
'absolute right-4 top-4',
'rounded-full p-2',
```

The `p-2` (8px padding) around an `h-4 w-4` (16px) icon gives a total of 32px. To reach 44px, increase padding to `p-3` (12px) which gives 16px + 2*12px = 40px, then add `min-h-[44px] min-w-[44px]` to guarantee the minimum.

Update the className to:
```
'absolute right-3 top-3',
'rounded-full p-3 min-h-[44px] min-w-[44px] inline-flex items-center justify-center',
```

Note: Adjust `right-4 top-4` to `right-3 top-3` to compensate for the larger touch area, keeping the visual position similar. The close icon stays at `h-4 w-4`.
  </action>
  <verify>
Run `npm run build` -- must succeed.
Run `npm run typecheck` -- must succeed.
Run `grep "min-h-\[44px\]" src/components/ui/Dialog.tsx` -- should return 1 match.
  </verify>
  <done>Dialog close button has a 44x44px minimum touch target. The X icon remains visually positioned correctly in the top-right corner.</done>
</task>

</tasks>

<verification>
- `npm run build` passes
- All three components have `min-h-[44px]` in their compact/close button classNames
- Visual icon sizes are unchanged (h-4 w-4 for Dialog, h-8 w-8 outer for ShareButton/AddToDeckButton)
- No TypeScript errors
</verification>

<success_criteria>
All three known touch target violations are fixed: ShareButton compact, AddToDeckButton compact, and Dialog close button all meet the 44x44px minimum while maintaining their visual appearance.
</success_criteria>

<output>
After completion, create `.planning/phases/29-visual-foundation/29-03-SUMMARY.md`
</output>
