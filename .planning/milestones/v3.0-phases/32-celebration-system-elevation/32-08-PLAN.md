---
phase: 32-celebration-system-elevation
plan: 08
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - pnpm-lock.yaml
autonomous: true
gap_closure: true
requirements:
  - CELB-06

must_haves:
  truths:
    - "Fresh pnpm install resolves @lottiefiles/dotlottie-react without errors"
    - "DotLottieAnimation.tsx dynamic import compiles and resolves at build time"
  artifacts:
    - path: "package.json"
      provides: "@lottiefiles/dotlottie-react declared in dependencies"
      contains: "@lottiefiles/dotlottie-react"
    - path: "pnpm-lock.yaml"
      provides: "Locked dependency resolution for dotlottie-react"
      contains: "dotlottie-react"
  key_links:
    - from: "package.json"
      to: "src/components/celebrations/DotLottieAnimation.tsx"
      via: "dependency declaration enables dynamic import resolution"
      pattern: "@lottiefiles/dotlottie-react"
---

<objective>
Add `@lottiefiles/dotlottie-react` to package.json dependencies so the existing DotLottieAnimation.tsx component resolves correctly in fresh installs and CI environments.

Purpose: Close the CELB-06 verification gap — the package exists in local node_modules but is not declared in package.json. Fresh clones and CI builds will fail to resolve the dynamic import in DotLottieAnimation.tsx.

Output: package.json and pnpm-lock.yaml updated with the declared dependency.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/32-celebration-system-elevation/32-03-SUMMARY.md
@src/components/celebrations/DotLottieAnimation.tsx
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add @lottiefiles/dotlottie-react to package.json dependencies</name>
  <files>
    package.json
    pnpm-lock.yaml
  </files>
  <action>
Run:
```bash
pnpm add @lottiefiles/dotlottie-react
```

This will:
1. Add `@lottiefiles/dotlottie-react` to the `dependencies` section of `package.json`
2. Update `pnpm-lock.yaml` with the resolved version

After running, verify:
- `package.json` contains `"@lottiefiles/dotlottie-react"` in its dependencies object
- `pnpm-lock.yaml` has been updated
- `npm run typecheck` passes (confirms the import in DotLottieAnimation.tsx resolves)

Do NOT pin to a specific version — let pnpm resolve the latest compatible version (^0.x.x range). The research document references v0.18.x.

Important: Both `package.json` AND `pnpm-lock.yaml` must be committed. The original gap was caused by committing code changes without these files.
  </action>
  <verify>
    Run `grep "dotlottie-react" package.json` — must show the dependency entry.
    Run `npm run typecheck` — no errors (DotLottieAnimation.tsx import resolves).
    Run `npm run test:run` — all tests pass.
  </verify>
  <done>
    `@lottiefiles/dotlottie-react` appears in package.json dependencies. pnpm-lock.yaml is updated. Fresh `pnpm install` resolves the package. TypeScript compilation succeeds.
  </done>
</task>

</tasks>

<verification>
- `package.json` contains `@lottiefiles/dotlottie-react` in dependencies
- `pnpm-lock.yaml` updated with the package resolution
- `npm run typecheck` passes
- `npm run test:run` passes
</verification>

<success_criteria>
The @lottiefiles/dotlottie-react dependency is declared in package.json so that fresh installs and CI environments can resolve the import used by DotLottieAnimation.tsx.
</success_criteria>

<output>
After completion, create `.planning/phases/32-celebration-system-elevation/32-08-SUMMARY.md`
</output>
