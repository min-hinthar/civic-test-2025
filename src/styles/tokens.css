/* ═══════════════════════════════════════════════════════════════════════
   Design Token Foundation - Civic Test Prep 2025
   Single source of truth for all visual design tokens.
   ═══════════════════════════════════════════════════════════════════════ */

/* ═══════════════════════════════════════════════════
   PRIMITIVES - Raw palette values (HSL channels only)
   Components should use semantic tokens, not these.
   Format: H S% L% (no hsl() wrapper, enables opacity)
   ═══════════════════════════════════════════════════ */

:root {
  /* ── Blue (primary brand) ── */
  --blue-50: 214 100% 97%;
  --blue-100: 214 95% 93%;
  --blue-200: 213 97% 87%;
  --blue-300: 212 96% 78%;
  --blue-400: 213 94% 68%;
  --blue-500: 217 91% 60%;
  --blue-600: 221 83% 53%;
  --blue-700: 224 76% 48%;
  --blue-800: 226 71% 40%;
  --blue-900: 224 64% 33%;

  /* ── Purple (achievements, badges) ── */
  --purple-50: 270 70% 96%;
  --purple-500: 270 70% 60%;
  --purple-600: 270 65% 52%;
  --purple-700: 270 60% 44%;

  /* ── Green (success, correct answers) ── */
  --green-50: 142 76% 95%;
  --green-100: 141 84% 86%;
  --green-500: 142 71% 45%;
  --green-600: 142 76% 36%;
  --green-700: 142 76% 30%;

  /* ── Amber (warning, wrong answers) ── */
  --amber-50: 38 92% 95%;
  --amber-100: 39 96% 89%;
  --amber-500: 32 95% 52%;
  --amber-600: 26 90% 45%;

  /* ── Red (destructive - warm coral per user decision, hue ~10) ── */
  --red-500: 10 50% 45%;
  --red-600: 10 45% 38%;
  --red-700: 10 45% 35%;

  /* ── Slate (neutrals) ── */
  --slate-50: 210 60% 99%;
  --slate-100: 216 33% 94%;
  --slate-200: 210 40% 92%;
  --slate-400: 215 18% 55%;
  --slate-500: 215 18% 35%;
  --slate-600: 215 20% 25%;
  --slate-900: 222 47% 12%;

  /* ── Patriotic red (decoration only, NOT for errors) ── */
  --patriotic-red: 0 72% 51%;

  /* ── Cyan (secondary) ── */
  --cyan-300: 192 95% 68%;

  /* ── Orange (accent) ── */
  --orange-400: 18 92% 70%;

  /* ── Rose (category-democracy) ── */
  --rose-500: 350 89% 60%;

  /* ── Fuchsia (category-1800s) ── */
  --fuchsia-500: 292 84% 61%;

  /* ── Sky (category-recent) ── */
  --sky-500: 199 89% 48%;
}

/* ═══════════════════════════════════════════════════
   SEMANTIC TOKENS - Purpose-named
   Components reference THESE tokens.
   ═══════════════════════════════════════════════════ */

:root {
  /* ── Surfaces ── */
  --color-background: var(--slate-50); /* Main app background */
  --color-surface: 0 0% 100%; /* Card/panel backgrounds */
  --color-surface-raised: 0 0% 100%; /* Elevated surfaces (modals, popovers) */
  --color-surface-muted: var(--slate-100); /* Subtle/muted backgrounds */
  --color-overlay: 0 0% 0%; /* Backdrop overlay (use with /50 alpha) */

  /* ── Text ── */
  --color-text-primary: var(--slate-900); /* Main body text */
  --color-text-secondary: var(--slate-500); /* Muted/helper text */
  --color-text-on-primary: 0 0% 100%; /* Text on primary-colored surfaces */
  --color-text-on-destructive: 0 0% 100%; /* Text on destructive-colored surfaces */

  /* ── Primary (blue) ── */
  --color-primary: var(--blue-500); /* Primary buttons, links, actions */
  --color-primary-hover: var(--blue-600); /* Primary hover state */
  --color-primary-active: var(--blue-700); /* Primary pressed/active state */
  --color-primary-disabled: var(--blue-300); /* Primary disabled state */
  --color-primary-subtle: var(--blue-50); /* Light primary background */
  --color-primary-50a: 217 91% 60% / 0.12; /* Semi-transparent primary overlay */

  /* ── Secondary (cyan) ── */
  --color-secondary: var(--cyan-300); /* Secondary accent color */
  --color-secondary-foreground: 210 40% 15%; /* Text on secondary surfaces */

  /* ── Accent (orange) ── */
  --color-accent: var(--orange-400); /* Accent highlights */
  --color-accent-foreground: 210 40% 10%; /* Text on accent surfaces */

  /* ── Accent Purple (achievements, badges) ── */
  --color-accent-purple: var(--purple-500); /* Achievement badges, milestones */
  --color-accent-purple-active: var(--purple-700); /* Purple pressed/active state */
  --color-accent-purple-foreground: 0 0% 100%; /* Text on purple surfaces */

  /* ── Destructive (warm coral-red, NOT bright red) ── */
  --color-destructive: var(--red-500); /* Data-loss/destructive actions */
  --color-destructive-hover: var(--red-600); /* Destructive hover state */
  --color-destructive-active: var(--red-700); /* Destructive pressed/active state */
  --color-destructive-foreground: 0 0% 100%; /* Text on destructive surfaces */

  /* ── Success (correct answers, progress) ── */
  --color-success: var(--green-500); /* Correct answers, completed */
  --color-success-active: var(--green-700); /* Success pressed/active state */
  --color-success-subtle: var(--green-50); /* Success background tint */
  --color-success-foreground: 0 0% 100%; /* Text on success surfaces */

  /* ── Warning (wrong answers, caution) ── */
  --color-warning: var(--amber-500); /* Wrong answers, warnings */
  --color-warning-subtle: var(--amber-50); /* Warning background tint */
  --color-warning-foreground: 0 0% 100%; /* Text on warning surfaces */

  /* ── Borders ── */
  --color-border: var(--slate-200); /* Default borders */
  --color-border-muted: var(--slate-100); /* Subtle/light borders */
  --color-input: var(--slate-200); /* Input field borders */

  /* ── Focus ── */
  --color-ring: var(--blue-500); /* Focus ring color */

  /* ── TTS Speaking (dedicated indigo-purple for active speech) ── */
  --color-tts: 250 70% 55%; /* TTS speaking indicator */

  /* ── Decorative ── */
  --color-patriotic-red: var(--patriotic-red); /* Stars, stripes, banners only */

  /* ── Status indicators ── */
  --color-status-online: var(--green-500); /* Online/connected */
  --color-status-offline: var(--slate-400); /* Offline/disconnected */
  --color-status-syncing: var(--blue-400); /* Syncing in progress */
  --color-status-error: var(--red-500); /* Error state */

  /* ── Chart colors (data viz, 3 main categories) ── */
  --color-chart-blue: var(--blue-500); /* Government category */
  --color-chart-amber: var(--amber-500); /* History category */
  --color-chart-emerald: var(--green-500); /* Civics category */

  /* ── Sub-category colors (data viz, stable across themes) ── */
  --color-category-democracy: var(--rose-500); /* Democracy sub-category */
  --color-category-government: var(--blue-500); /* Government sub-category */
  --color-category-rights: var(--green-500); /* Rights sub-category */
  --color-category-colonial: var(--amber-500); /* Colonial sub-category */
  --color-category-1800s: var(--fuchsia-500); /* 1800s sub-category */
  --color-category-recent: var(--sky-500); /* Recent history sub-category */
  --color-category-symbols: var(--slate-500); /* Symbols sub-category */
}

/* ═══════════════════════════════════════════════════
   BACKWARD COMPATIBILITY ALIASES
   Map old variable names to new semantic tokens.
   These ensure existing components work unchanged.
   Will be removed in a future migration sweep.
   ═══════════════════════════════════════════════════ */

:root {
  /* Old shadcn/ui variable names -> new semantic tokens */
  --background: var(--color-background);
  --foreground: var(--color-text-primary);
  --card: var(--color-surface);
  --card-foreground: var(--color-text-primary);
  --popover: var(--color-surface-raised);
  --popover-foreground: var(--color-text-primary);
  --primary: var(--color-primary);
  --primary-foreground: var(--color-text-on-primary);
  --secondary: var(--color-secondary);
  --secondary-foreground: var(--color-secondary-foreground);
  --muted: var(--color-surface-muted);
  --muted-foreground: var(--color-text-secondary);
  --accent: var(--color-accent);
  --accent-foreground: var(--color-accent-foreground);
  --accent-purple: var(--color-accent-purple);
  --accent-purple-foreground: var(--color-accent-purple-foreground);
  --destructive: var(--color-destructive);
  --destructive-foreground: var(--color-destructive-foreground);
  --success: var(--color-success);
  --success-foreground: var(--color-success-foreground);
  --success-green: var(--color-success);
  --warning: var(--color-warning);
  --warning-foreground: var(--color-warning-foreground);
  --border: var(--color-border);
  --input: var(--color-input);
  --ring: var(--color-ring);

  /* Old primary shade names -> new blue primitives */
  --primary-50: var(--blue-50);
  --primary-100: var(--blue-100);
  --primary-200: var(--blue-200);
  --primary-300: var(--blue-300);
  --primary-400: var(--blue-400);
  --primary-500: var(--blue-500);
  --primary-600: var(--blue-600);
  --primary-700: var(--blue-700);
  --primary-800: var(--blue-800);
  --primary-900: var(--blue-900);
}

/* ═══════════════════════════════════════════════════
   NON-COLOR TOKENS
   Spacing, radius, shadows, motion, typography
   ═══════════════════════════════════════════════════ */

:root {
  /* ── Spacing (informational, Tailwind handles these) ── */
  --space-1: 0.25rem; /* 4px */
  --space-2: 0.5rem; /* 8px */
  --space-3: 0.75rem; /* 12px */
  --space-4: 1rem; /* 16px */
  --space-5: 1.25rem; /* 20px */
  --space-6: 1.5rem; /* 24px */
  --space-8: 2rem; /* 32px */

  /* ── Border Radius ── */
  --radius-sm: 0.5rem; /* 8px - small elements */
  --radius-md: 0.75rem; /* 12px - buttons */
  --radius-lg: 1rem; /* 16px - inputs */
  --radius-xl: 1.25rem; /* 20px - cards */
  --radius-2xl: 1.5rem; /* 24px */
  --radius-3xl: 2rem; /* 32px - large cards */
  --radius-full: 9999px; /* Pill shapes */

  /* Backward compat: old --radius -> --radius-xl (was 0.85rem, bumped to 1.25rem) */
  --radius: var(--radius-xl);

  /* ── Shadows ── */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-chunky: 0 4px 0 hsl(var(--color-primary-active));
  --shadow-chunky-active: 0 1px 0 hsl(var(--color-primary-active));

  /* ── Motion ── */
  --duration-instant: 0ms;
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --duration-page: 400ms;

  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);

  /* ── Glass Tiers (blur + opacity for glass-morphism) ── */
  --glass-light-blur: 16px;
  --glass-light-opacity: 0.65;
  --glass-medium-blur: 24px;
  --glass-medium-opacity: 0.55;
  --glass-heavy-blur: 32px;
  --glass-heavy-opacity: 0.45;

  /* ── Typography ── */
  --font-sans: 'Inter', 'Noto Sans Myanmar', system-ui, -apple-system, sans-serif;
  --font-myanmar: 'Noto Sans Myanmar', 'Inter', system-ui, -apple-system, sans-serif;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
}

/* ═══════════════════════════════════════════════════
   DARK THEME
   Only semantic tokens change. Primitives stay the same.
   Soft dark palette (deep navy, not pure black).
   ═══════════════════════════════════════════════════ */

.dark {
  /* ── Surfaces (soft dark, deep navy with elevation hierarchy) ── */
  --color-background: 222 47% 11%; /* Main dark background */
  --color-surface: 222 47% 14%; /* Card backgrounds (elevation 1) */
  --color-surface-raised: 222 47% 19%; /* Elevated surfaces (elevation 2) */
  --color-surface-muted: 217 33% 17%; /* Subtle dark backgrounds */

  /* ── Text ── */
  --color-text-primary: 210 40% 98%; /* Light text on dark */
  --color-text-secondary: 215 20% 65%; /* Muted text on dark */
  --color-text-on-primary: 222 47% 11%; /* Dark text on primary buttons */

  /* ── Primary (brighter blue for dark bg) ── */
  --color-primary: var(--blue-400); /* Brighter primary on dark */
  --color-primary-hover: var(--blue-300);
  --color-primary-active: var(--blue-200);
  --color-primary-disabled: var(--blue-700);
  --color-primary-subtle: 224 71% 15%; /* Dark primary background */
  --color-primary-50a: 213 94% 68% / 0.15; /* Semi-transparent on dark */

  /* ── Secondary ── */
  --color-secondary: 200 45% 18%;
  --color-secondary-foreground: 210 40% 96%;

  /* ── Accent ── */
  --color-accent: 217 33% 20%;
  --color-accent-foreground: 210 40% 98%;

  /* ── Accent Purple ── */
  --color-accent-purple: 270 65% 65%; /* Brighter purple on dark */
  --color-accent-purple-active: var(--purple-600); /* Purple active on dark */

  /* ── Destructive ── */
  --color-destructive: 10 45% 50%; /* Brighter destructive on dark */
  --color-destructive-hover: 10 45% 55%;
  --color-destructive-active: var(--red-600); /* Destructive active on dark */
  --color-destructive-foreground: 210 40% 98%;

  /* ── Success ── */
  --color-success: 142 71% 50%; /* Brighter success on dark */
  --color-success-active: var(--green-600); /* Success active on dark */
  --color-success-subtle: 142 71% 15%; /* Dark success tint */
  --color-success-foreground: 222 47% 11%;

  /* ── Warning ── */
  --color-warning: 32 95% 58%; /* Brighter warning on dark */
  --color-warning-subtle: 32 95% 20%; /* Dark warning tint */
  --color-warning-foreground: 222 47% 11%;

  /* ── Borders ── */
  --color-border: 217 33% 25%;
  --color-border-muted: 217 33% 20%;
  --color-input: 217 33% 20%;

  /* ── Focus (brighter ring for dark visibility) ── */
  --color-ring: var(--blue-400);

  /* ── TTS Speaking (brighter indigo for dark backgrounds) ── */
  --color-tts: 250 80% 70%; /* TTS speaking indicator on dark */

  /* ── Decorative ── */
  --color-patriotic-red: var(--patriotic-red); /* Same in both themes */

  /* ── Surface elevation hierarchy (lighter at higher elevation) ── */
  --color-surface-elevated-1: 222 47% 16%; /* Cards */
  --color-surface-elevated-2: 222 47% 19%; /* Modals, popovers */
  --color-surface-elevated-3: 222 47% 22%; /* Dropdowns on modals */

  /* ── Glass Tiers (lower opacity for dark backgrounds, increased blur for depth) ── */
  --glass-light-blur: 18px; /* Slightly more than light mode's 16px */
  --glass-medium-blur: 28px; /* More than light mode's 24px */
  --glass-heavy-blur: 36px; /* More than light mode's 32px */
  --glass-light-opacity: 0.5;
  --glass-medium-opacity: 0.4;
  --glass-heavy-opacity: 0.3;

  /* ── Shadows (darker for dark mode) ── */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.2);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 8px 10px -6px rgb(0 0 0 / 0.3);
  --shadow-chunky: 0 4px 0 hsl(var(--color-primary-active));
  --shadow-chunky-active: 0 1px 0 hsl(var(--color-primary-active));

  /* ── Dark mode backward compat aliases ── */
  /* Primary shades inverted for dark mode readability */
  --primary-50: 224 71% 15%;
  --primary-100: 224 68% 20%;
  --primary-200: 223 65% 28%;
  --primary-300: 220 62% 38%;
  --primary-400: 218 70% 50%;
  --primary-500: 217 85% 60%;
  --primary-600: 215 90% 68%;
  --primary-700: 213 95% 76%;
  --primary-800: 212 97% 84%;
  --primary-900: 211 100% 92%;

  /* Old shadcn dark overrides are handled automatically
     by the backward compat aliases in :root pointing to
     semantic tokens, which are overridden above */

  /* Explicit old-name overrides needed for dark mode */
  --primary-foreground: var(--color-text-on-primary);
  --success-green: var(--color-success);
  --accent-purple-foreground: 0 0% 100%;
}
