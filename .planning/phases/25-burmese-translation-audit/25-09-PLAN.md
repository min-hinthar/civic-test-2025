---
phase: 25-burmese-translation-audit
plan: 09
type: execute
wave: 4
depends_on: [02, 03, 04, 05, 06, 07, 08]
files_modified: []
autonomous: true

must_haves:
  truths:
    - "Every Burmese text occurrence has the font-myanmar CSS class"
    - "Every showBurmese conditional correctly hides/shows Burmese content"
    - "No Burmese text overflows its container on mobile viewport"
    - "Zero missing Burmese translations across all user-facing screens"
  artifacts: []
  key_links:
    - from: "src/styles/globals.css"
      to: "all components with font-myanmar"
      via: "CSS class application"
      pattern: "font-myanmar"
---

<objective>
Perform systematic font-myanmar class audit, showBurmese toggle verification, and responsive overflow check across ALL components.

Purpose: Translation quality means nothing if the text renders in the wrong font, appears in the wrong language mode, or overflows its container. This plan is the safety net that catches rendering issues.

Output: All font-myanmar gaps fixed, all showBurmese guards verified, all overflow issues resolved.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-burmese-translation-audit/25-RESEARCH.md
@.planning/phases/25-burmese-translation-audit/25-CONTEXT.md
@.planning/phases/25-burmese-translation-audit/25-01-SUMMARY.md
@src/styles/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Font-myanmar class audit</name>
  <files>Any TSX files with Myanmar Unicode characters missing font-myanmar class</files>
  <action>
Perform a systematic audit to verify EVERY Burmese text occurrence has the `font-myanmar` CSS class applied:

**Step 1: Find all Myanmar Unicode occurrences**
```bash
# Find all TSX files containing Myanmar Unicode characters (U+1000-U+109F)
grep -rn '[\u1000-\u109F]' src/ --include='*.tsx' --include='*.ts' | grep -v 'node_modules' | grep -v '.test.'
```

**Step 2: For each occurrence, verify font-myanmar class**
Check that the containing element (or a parent element) has `className` including `font-myanmar`. Valid patterns:
- Direct: `<span className="font-myanmar">Burmese text</span>`
- Parent: `<div className="font-myanmar"><span>Burmese text</span></div>`
- Via bilingual component: `<BilingualText>` (automatically applies font-myanmar)
- Via conditional: `{showBurmese && <span className="font-myanmar">...</span>}`

**Step 3: Fix any gaps**
If a Myanmar Unicode character appears without `font-myanmar` on its container, add the class. If the text is in a template string or dynamic content, ensure the rendering container has the class.

**Files to check systematically:**
- 102 files currently using `font-myanmar` (verify completeness)
- 54 TSX files containing Myanmar Unicode (may be subset)
- Focus on files modified in Plans 02-08 (new/changed translations)
- Also check files NOT in the 102 list that might have Myanmar text

**Do NOT modify:**
- Test files (*.test.tsx)
- Question data files (font-myanmar is applied by consuming components)
- Audio/script files
  </action>
  <verify>Run a grep for Myanmar Unicode characters in TSX files and verify each has `font-myanmar` in the same file. Count of files with Myanmar characters should equal or be less than count of files with `font-myanmar`.</verify>
  <done>Every component rendering Burmese text applies the font-myanmar CSS class, either directly or via a parent/bilingual component.</done>
</task>

<task type="auto">
  <name>Task 2: showBurmese toggle verification + responsive overflow check</name>
  <files>Any TSX files with broken showBurmese guards or overflow issues</files>
  <action>
**Part A: showBurmese toggle verification**

Verify that ALL Burmese text is properly guarded by `showBurmese` (or rendered through a bilingual component that handles it internally):

1. List all 109 files using `showBurmese`
2. For each file, verify:
   - Every inline Myanmar text is inside a `{showBurmese && (...)}` block
   - OR rendered via `BilingualText`, `BilingualButton`, `BilingualHeading`, or `BilingualToast` (which handle the guard internally)
   - No Burmese text appears outside a guard in any conditional branch
3. Check for edge cases:
   - Template strings that mix English and Burmese
   - Array.map() producing bilingual content
   - Dynamic content from question data (should be guarded at display point)

Fix any instances where Burmese text would show in English-only mode.

**Part B: Responsive overflow check (code review)**

Check for potential Burmese text overflow issues in fixed-width containers:

1. Search for components with fixed widths (`w-[...]`, `max-w-[...]`, `w-XX`) that render Burmese text
2. Check button components for text truncation risk
3. Check tab bar labels for overflow
4. Check card/modal titles for overflow
5. Add `min-w-0` or `flex-shrink` where needed to allow Burmese text wrapping
6. Check mobile-specific concerns (smaller viewports = higher overflow risk)

Focus on:
- Navigation tab labels (Burmese may be wider than English)
- PillTabBar (study mode tabs with Burmese + English subtitle)
- Button labels in narrow containers
- Card titles and stat labels on dashboard

**Do NOT:**
- Change layout structure significantly
- Add horizontal scrolling as a fix
- Break existing English-mode layouts
  </action>
  <verify>`npm run typecheck` passes. `npm run build` succeeds. No Burmese text should appear when `showBurmese` is false (verifiable by code review of guard patterns).</verify>
  <done>All showBurmese guards verified. No Burmese text leaks into English-only mode. Fixed-width containers accommodate Burmese text length.</done>
</task>

</tasks>

<verification>
- `npm run typecheck` passes
- `npm run build` succeeds
- Every Myanmar Unicode occurrence in TSX has font-myanmar class
- All showBurmese guards properly gate Burmese content
- No fixed-width containers truncate Burmese text
</verification>

<success_criteria>
- Zero font-myanmar class gaps (every Burmese string renders in Myanmar font)
- Zero showBurmese guard gaps (English-only mode shows zero Burmese)
- No visible overflow issues for Burmese text in constrained containers
</success_criteria>

<output>
After completion, create `.planning/phases/25-burmese-translation-audit/25-09-SUMMARY.md`
</output>
