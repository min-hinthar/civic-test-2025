---
phase: 10-tech-debt-cleanup
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/02-pwa-offline/02-VERIFICATION.md
  - .planning/phases/09-ui-polish-onboarding/09-VERIFICATION.md
autonomous: true

must_haves:
  truths:
    - "Phase 02 has a formal VERIFICATION.md artifact with must-have checks"
    - "Phase 09 has a formal VERIFICATION.md artifact with must-have checks"
    - "Keyboard accessibility findings are documented"
  artifacts:
    - path: ".planning/phases/02-pwa-offline/02-VERIFICATION.md"
      provides: "Formal verification report for Phase 02 PWA & Offline"
      contains: "Observable Truths"
    - path: ".planning/phases/09-ui-polish-onboarding/09-VERIFICATION.md"
      provides: "Formal verification report for Phase 09 UI Polish & Onboarding"
      contains: "Observable Truths"
  key_links: []
---

<objective>
Create formal VERIFICATION.md artifacts for Phase 02 (PWA & Offline) and Phase 09 (UI Polish & Onboarding), and document keyboard accessibility findings.

Purpose: Phases 02 and 09 completed without formal verification reports. All other phases (01, 03-08) have VERIFICATION.md artifacts. Creating these closes the verification gap and produces a complete audit trail for the v1.0 milestone. Keyboard accessibility documentation satisfies the UIUX-06 tech debt item.

Output: 2 VERIFICATION.md files following the established template pattern.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-tech-debt-cleanup/10-RESEARCH.md

Template reference:
@.planning/phases/01-foundation-code-quality/01-VERIFICATION.md (follow this format exactly)

Phase 02 context (read these to build the verification report):
@.planning/phases/02-pwa-offline/02-01-SUMMARY.md
@.planning/phases/02-pwa-offline/02-02-SUMMARY.md
@.planning/phases/02-pwa-offline/02-03-SUMMARY.md
@.planning/phases/02-pwa-offline/02-04-SUMMARY.md
@.planning/phases/02-pwa-offline/02-05-SUMMARY.md
@.planning/phases/02-pwa-offline/02-06-SUMMARY.md

Phase 09 context (read these to build the verification report):
@.planning/phases/09-ui-polish-onboarding/09-01-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-02-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-03-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-04-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-05-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-06-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-07-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-08-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-09-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-10-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-11-SUMMARY.md
@.planning/phases/09-ui-polish-onboarding/09-12-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Phase 02 (PWA & Offline) VERIFICATION.md</name>
  <files>
    .planning/phases/02-pwa-offline/02-VERIFICATION.md
  </files>
  <action>
    Create a formal verification report for Phase 02 following the exact format of `01-VERIFICATION.md`.

    **Step 1: Read all Phase 02 SUMMARYs** (02-01 through 02-06) to understand what was built.

    **Step 2: Derive observable truths from Phase 02's success criteria** (from ROADMAP.md):
    1. User sees browser install prompt and can add app to home screen
    2. User can open study guide in airplane mode and browse all 100+ questions
    3. User can complete a test offline and see results saved after going online
    4. User sees clear online/offline status indicator in the app
    5. User receives study reminder push notifications (if opted in)

    **Step 3: Run automated verification checks:**
    - `ls public/manifest.json` -- manifest exists
    - `grep "display" public/manifest.json` -- standalone mode
    - `ls src/lib/pwa/` -- service worker files exist
    - `grep -r "idb-keyval\|IndexedDB" src/` -- offline storage wired
    - `grep -r "SyncQueue\|useSyncQueue" src/` -- sync queue exists
    - `grep -r "OnlineStatusIndicator\|useOnlineStatus" src/` -- status indicator exists
    - `grep -r "PushSubscription\|push-subscribe" src/` -- push notification wiring
    - `ls src/pages/api/push/` -- push notification API routes
    - `npx tsc --noEmit` -- zero errors

    **Step 4: Check artifact existence** for each plan's key deliverables:
    - public/manifest.json (02-01)
    - src/lib/pwa/ directory (02-01)
    - src/contexts/OfflineContext.tsx (02-02)
    - src/hooks/useSyncQueue.ts (02-03)
    - Install/notification prompt components (02-04)
    - iOS Safari tip (02-05)
    - Push notification API routes (02-06)

    **Step 5: Document keyboard accessibility findings for Phase 02 components:**
    - Test Tab/Enter/Escape on install prompt modal
    - Test Tab/Enter on notification permission flow
    - Test keyboard navigation on online/offline indicator
    - Document findings in a "Keyboard Accessibility" section

    **Step 6: Write the VERIFICATION.md** following 01-VERIFICATION.md format with:
    - YAML frontmatter (phase, verified timestamp, status, score, gaps if any)
    - Observable Truths table
    - Required Artifacts table
    - Key Link Verification
    - Requirements Coverage
    - Automated Checks Performed
    - Keyboard Accessibility Findings section

    Set status to `passed` if all truths verified, or `gaps_found` with gap details if issues found.

    NOTE: The streak recording tech debt item (indirect via masteryStore chain) should be documented as "accepted pattern" in a note, per research recommendation.
  </action>
  <verify>
    `ls .planning/phases/02-pwa-offline/02-VERIFICATION.md` -- file exists.
    File contains YAML frontmatter with phase, verified, status, score fields.
    File contains Observable Truths table, Required Artifacts table, Key Link Verification.
    File contains Keyboard Accessibility section.
  </verify>
  <done>
    Phase 02 has a formal VERIFICATION.md with observable truths verified against source code, artifact checks, key link verification, and keyboard accessibility findings documented.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Phase 09 (UI Polish & Onboarding) VERIFICATION.md</name>
  <files>
    .planning/phases/09-ui-polish-onboarding/09-VERIFICATION.md
  </files>
  <action>
    Create a formal verification report for Phase 09 following the exact format of `01-VERIFICATION.md`.

    **Step 1: Read all Phase 09 SUMMARYs** (09-01 through 09-12) to understand what was built.

    **Step 2: Derive observable truths from Phase 09's success criteria** (from ROADMAP.md):
    1. No `text-red-600` or `bg-red-600` remains in any component
    2. First-time users see the OnboardingTour on their initial visit
    3. User sees pending sync count indicator when offline items are queued
    4. All pages have Duolingo-inspired 3D buttons, rounded cards, bold typography
    5. Sound effects play for correct/incorrect answers with mute toggle in Settings
    6. Mobile users see bottom tab bar navigation
    7. Progress page shows vertical skill tree with 7 sub-category nodes

    **Step 3: Run automated verification checks:**
    - `grep -r "text-red-600\|bg-red-600" src/` -- should be ZERO (red token audit)
    - `grep -r "OnboardingTour\|WelcomeScreen\|react-joyride" src/` -- onboarding components exist
    - `grep -r "SyncStatusIndicator" src/` -- sync indicator exists
    - `grep -r "BottomTabBar" src/` -- bottom tab bar exists
    - `grep -r "SkillTree\|SkillNode" src/` -- skill tree exists
    - `grep -r "playCorrect\|playIncorrect\|soundEffects\|playLevelUp" src/` -- sound effects wired
    - `grep -r "rounded-2xl\|shadow-\\[0_4px_0\\]" src/` -- 3D chunky styling present
    - `npx tsc --noEmit` -- zero errors

    **Step 4: Check artifact existence** for key Phase 09 deliverables:
    - src/lib/design-tokens.ts updates (09-01)
    - src/lib/soundEffects.ts (09-02)
    - SyncStatusIndicator redesign (09-03)
    - Onboarding tour components (09-04)
    - BottomTabBar component (09-06)
    - Landing/Auth page redesign (09-07)
    - Dashboard/Settings redesign (09-08)
    - Test/Practice page overhaul (09-09)
    - StudyGuide/Flashcard overhaul (09-10)
    - Skill tree (09-11)

    **Step 5: Document keyboard accessibility findings for Phase 09 components:**
    - Test Tab/Enter on 3D chunky buttons
    - Test Tab on bottom tab bar navigation
    - Test keyboard on skill tree nodes
    - Test Tab/Enter on onboarding tour steps (next/skip)
    - Test focus trap on modals and dialogs
    - Test keyboard on sound mute toggle in Settings
    - Document all findings including: reachable via Tab, activatable via Enter/Space, focus visible, trap behavior

    **Step 6: Write the VERIFICATION.md** with full format.

    Set status to `passed` if all truths verified, or `gaps_found` with gap details.
  </action>
  <verify>
    `ls .planning/phases/09-ui-polish-onboarding/09-VERIFICATION.md` -- file exists.
    File contains YAML frontmatter with phase, verified, status, score fields.
    File contains Observable Truths table, Required Artifacts table, Key Link Verification.
    File contains Keyboard Accessibility section.
  </verify>
  <done>
    Phase 09 has a formal VERIFICATION.md with observable truths verified against source code, artifact checks, key link verification, and keyboard accessibility findings documented.
  </done>
</task>

</tasks>

<verification>
Run these checks to verify plan completion:

1. Both files exist:
   - `.planning/phases/02-pwa-offline/02-VERIFICATION.md`
   - `.planning/phases/09-ui-polish-onboarding/09-VERIFICATION.md`
2. Both files follow the format of `01-VERIFICATION.md`
3. Both files have YAML frontmatter with required fields
4. Both files contain Observable Truths, Required Artifacts, Key Links sections
5. Both files contain Keyboard Accessibility Findings section
</verification>

<success_criteria>
- Phase 02 VERIFICATION.md exists with complete verification report
- Phase 09 VERIFICATION.md exists with complete verification report
- Both follow the established template format from 01-VERIFICATION.md
- Keyboard accessibility findings documented in both reports
- Observable truths verified against actual source code (not assumed)
- All automated verification checks actually run (grep, ls, tsc)
</success_criteria>

<output>
After completion, create `.planning/phases/10-tech-debt-cleanup/10-04-SUMMARY.md`
</output>
