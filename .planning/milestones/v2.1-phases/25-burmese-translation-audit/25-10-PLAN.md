---
phase: 25-burmese-translation-audit
plan: 10
type: execute
wave: 5
depends_on: [02, 03, 09]
files_modified:
  - .planning/phases/25-burmese-translation-audit/flagged-disagreements.md
autonomous: true

must_haves:
  truths:
    - "Burmese audio files are regenerated for any changed question translations"
    - "Flagged disagreements file exists for user review"
    - "Full build and test suite pass"
  artifacts:
    - path: ".planning/phases/25-burmese-translation-audit/flagged-disagreements.md"
      provides: "All-3-disagree strings for manual review"
      contains: "Disagreement"
  key_links:
    - from: "scripts/export-questions.ts"
      to: "scripts/generate-burmese-audio.py"
      via: "JSON export pipeline"
      pattern: "questions-export.json"
---

<objective>
Regenerate Burmese audio for changed translations, compile flagged disagreements for user review, and perform final build verification.

Purpose: Audio must stay in sync with changed text. The flagged disagreements file gives the user a clear list of translations needing manual review. The build check ensures everything compiles and tests pass.

Output: Regenerated audio files + flagged-disagreements.md + passing build + passing tests.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-burmese-translation-audit/25-RESEARCH.md
@.planning/phases/25-burmese-translation-audit/25-CONTEXT.md
@.planning/phases/25-burmese-translation-audit/25-02-SUMMARY.md
@.planning/phases/25-burmese-translation-audit/25-03-SUMMARY.md
@.planning/phases/25-burmese-translation-audit/25-09-SUMMARY.md
@scripts/export-questions.ts
@scripts/generate-burmese-audio.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Regenerate Burmese audio for changed translations</name>
  <files>
    scripts/questions-export.json (intermediate)
    public/audio/my-MM/female/*.mp3 (output)
  </files>
  <action>
Regenerate Burmese audio files to match updated translations:

**Step 1: Export updated question data**
```bash
npx tsx scripts/export-questions.ts
```
This produces `scripts/questions-export.json` with all 128 questions and their current Burmese text.

**Step 2: Generate Burmese audio**
```bash
python scripts/generate-burmese-audio.py
```
This uses edge-tts with `my-MM-NilarNeural` voice to generate MP3 files for all questions.

Output: Up to 384 MP3 files at `public/audio/my-MM/female/{questionId}-{q|a|e}.mp3`

**Step 3: Verify audio files exist**
```bash
ls public/audio/my-MM/female/ | wc -l
```
Should be approximately 384 files.

**Important notes:**
- Requires Python with edge-tts installed (`pip install edge-tts`)
- If edge-tts is not available, skip audio generation and note it as a follow-up
- Audio generation may take several minutes
- Do NOT modify the generation scripts unless they fail
- If the scripts fail, document the error and move on to Task 2
  </action>
  <verify>Audio files exist in `public/audio/my-MM/female/`. File count should be ~384. No script errors during generation.</verify>
  <done>Burmese audio files regenerated to match updated translation text. Audio content matches on-screen Burmese text.</done>
</task>

<task type="auto">
  <name>Task 2: Compile flagged disagreements + final build verification</name>
  <files>
    .planning/phases/25-burmese-translation-audit/flagged-disagreements.md
  </files>
  <action>
**Part A: Compile flagged disagreements file**

Create `.planning/phases/25-burmese-translation-audit/flagged-disagreements.md` as a consolidated review file for the user.

This file should:
1. Reference the cross-check files (cross-check-wave-1a.md, cross-check-wave-1b.md, cross-check-wave-2.md)
2. Explain the review process (user runs through Gemini/GPT, reports disagreements)
3. Include a section for the user to record disagreements
4. Include instructions for how to update translations after review

Format:
```markdown
# Burmese Translation Review

## Status
- Wave 1a (American Government): Ready for cross-check
- Wave 1b (Remaining Questions): Ready for cross-check
- Wave 2 (Centralized Strings): Ready for cross-check
- Waves 3+ (Inline Components): Applied directly (no cross-check needed per AI discretion)

## How to Review
1. Open each cross-check file
2. Copy the table to Gemini and GPT independently
3. Ask: "Please verify the Burmese translations for accuracy and naturalness"
4. Compare responses from all 3 AIs (Claude's proposals + Gemini + GPT)
5. 2-of-3 agree → translation is final
6. All-3-disagree → record below for manual review

## Flagged Disagreements
(Record any all-3-disagree strings here)

| ID | English | Claude | Gemini | GPT | Notes |
|----|---------|--------|--------|-----|-------|
| (none yet) | | | | | |

## How to Apply Changes
After review, update the Burmese string in the relevant source file and re-run:
- `npm run typecheck` to verify
- Audio regeneration for changed question text
```

**Part B: Final build verification**

Run the full verification suite:
```bash
npm run typecheck
npm run lint
npm run test:run
npm run build
```

All must pass. If any fail, fix the issues (likely TypeScript errors from translation changes) and re-run.

**Part C: Summary changelog**

Add a brief summary section to the flagged-disagreements file documenting what was changed at a high level:
- How many questions had translations improved
- How many centralized strings updated
- How many component files touched
- Font infrastructure changes (Google Fonts + CSS line-breaking)
  </action>
  <verify>`npm run build` passes. `npm run test:run` passes. `npm run typecheck` passes. Flagged disagreements file exists with review instructions.</verify>
  <done>Full build passes, all tests pass, flagged disagreements file ready for user review. Phase complete.</done>
</task>

</tasks>

<verification>
- `npm run typecheck` passes
- `npm run lint` passes
- `npm run test:run` passes
- `npm run build` passes
- Audio files regenerated (or documented as follow-up if edge-tts unavailable)
- `flagged-disagreements.md` exists with review instructions and cross-check references
</verification>

<success_criteria>
- Audio matches updated translations
- Build + tests + typecheck + lint all pass
- User has clear path to complete the 3-AI cross-check review at their pace
- Phase deliverables are complete
</success_criteria>

<output>
After completion, create `.planning/phases/25-burmese-translation-audit/25-10-SUMMARY.md`
</output>
