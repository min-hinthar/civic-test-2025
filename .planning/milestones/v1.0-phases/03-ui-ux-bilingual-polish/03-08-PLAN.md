---
phase: 03-ui-ux-bilingual-polish
plan: 08
type: execute
wave: 4
depends_on: ["03-01", "03-02", "03-03", "03-05"]
files_modified:
  - src/pages/LandingPage.tsx
  - src/pages/Dashboard.tsx
  - src/pages/AuthPage.tsx
autonomous: true

must_haves:
  truths:
    - "Dashboard uses mobile-first responsive layout"
    - "Dashboard cards stack on mobile, grid on desktop"
    - "Dashboard shows 'Am I ready?' readiness confidence indicator"
    - "Touch targets are 44px minimum"
    - "Page headers use bilingual headings"
  artifacts:
    - path: "src/pages/Dashboard.tsx"
      provides: "Mobile-responsive dashboard with staggered cards and readiness indicator"
      contains: "BilingualHeading"
    - path: "src/pages/LandingPage.tsx"
      provides: "Mobile-first landing page with bilingual components"
      contains: "BilingualButton"
  key_links:
    - from: "src/pages/Dashboard.tsx"
      to: "src/components/bilingual/BilingualHeading.tsx"
      via: "Page heading"
      pattern: "BilingualHeading"
    - from: "src/pages/Dashboard.tsx"
      to: "src/components/dashboard/ReadinessIndicator.tsx"
      via: "Readiness widget"
      pattern: "ReadinessIndicator"
---

<objective>
Apply Phase 3 UI components to Dashboard, Landing, and Auth pages with mobile-first layouts and bilingual headings. Includes ANXR-05: "Am I ready?" readiness confidence indicator on dashboard.

Purpose: These are the entry-point pages users see first. They need polished UI with consistent bilingual patterns and the readiness indicator to help users gauge their test preparation.

Output: Dashboard, LandingPage, and AuthPage updated with new UI components and readiness widget.
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03-ui-ux-bilingual-polish/03-CONTEXT.md
@.planning/phases/03-ui-ux-bilingual-polish/03-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ReadinessIndicator component for ANXR-05</name>
  <files>
    src/components/dashboard/ReadinessIndicator.tsx
  </files>
  <action>
Create directory `src/components/dashboard/` if it doesn't exist.

Create `src/components/dashboard/ReadinessIndicator.tsx`:

This component implements ANXR-05: "Am I ready?" readiness confidence indicator.

```typescript
'use client';

import { useMemo } from 'react';
import { motion } from 'motion/react';
import { CheckCircle, AlertCircle, Sparkles } from 'lucide-react';
import { clsx } from 'clsx';
import { useReducedMotion } from '@/hooks/useReducedMotion';
import { BilingualHeading } from '@/components/bilingual/BilingualHeading';
import { BilingualButton } from '@/components/bilingual/BilingualButton';
import { Card, CardContent } from '@/components/ui/Card';
import { Progress } from '@/components/ui/Progress';
import { strings } from '@/lib/i18n/strings';

interface ReadinessIndicatorProps {
  /** Total questions answered correctly (unique) */
  correctCount: number;
  /** Total unique questions in the bank */
  totalQuestions: number;
  /** Recent test accuracy (last 5 tests average) */
  recentAccuracy: number;
  /** Current study streak in days */
  streakDays: number;
  /** Callback when user clicks "Start Test" */
  onStartTest: () => void;
}

type ReadinessLevel = 'not-ready' | 'getting-there' | 'almost-ready' | 'ready';

/**
 * "Am I ready?" readiness confidence indicator for dashboard.
 *
 * Features:
 * - Visual readiness gauge based on progress metrics
 * - Bilingual encouraging messages based on level
 * - Quick "Start Test" CTA when ready
 * - Anxiety-reducing: always positive framing
 *
 * Readiness calculation:
 * - Coverage: % of unique questions answered correctly
 * - Accuracy: Recent test performance
 * - Consistency: Study streak bonus
 */
export function ReadinessIndicator({
  correctCount,
  totalQuestions,
  recentAccuracy,
  streakDays,
  onStartTest,
}: ReadinessIndicatorProps) {
  const shouldReduceMotion = useReducedMotion();

  // Calculate readiness score (0-100)
  const { readinessScore, level, message } = useMemo(() => {
    const coveragePercent = (correctCount / totalQuestions) * 100;
    const accuracyWeight = recentAccuracy * 0.4;
    const coverageWeight = coveragePercent * 0.5;
    const streakBonus = Math.min(streakDays * 2, 10); // Max 10% bonus

    const score = Math.min(100, Math.round(accuracyWeight + coverageWeight + streakBonus));

    let level: ReadinessLevel;
    let message: { en: string; my: string };

    if (score >= 80) {
      level = 'ready';
      message = {
        en: "You're ready! Your hard work is paying off.",
        my: 'သင်အဆင်သင့်ဖြစ်ပါပြီ! သင့်ကြိုးစားမှုက အကျိုးပေးနေပါပြီ။',
      };
    } else if (score >= 60) {
      level = 'almost-ready';
      message = {
        en: "Almost there! A little more practice and you'll be confident.",
        my: 'နီးပါပြီ! နည်းနည်းလေ့ကျင့်ရင် ယုံကြည်မှုရပါမယ်။',
      };
    } else if (score >= 30) {
      level = 'getting-there';
      message = {
        en: "You're making great progress! Keep studying.",
        my: 'သင်ကောင်းကောင်းတိုးတက်နေပါတယ်! ဆက်လေ့လာပါ။',
      };
    } else {
      level = 'not-ready';
      message = {
        en: "You're just getting started! Every question helps.",
        my: 'သင်စတင်နေပါပြီ! မေးခွန်းတိုင်းက အကူအညီဖြစ်ပါတယ်။',
      };
    }

    return { readinessScore: score, level, message };
  }, [correctCount, totalQuestions, recentAccuracy, streakDays]);

  const levelColors = {
    'not-ready': 'text-muted-foreground',
    'getting-there': 'text-warning-500',
    'almost-ready': 'text-primary-500',
    'ready': 'text-success-500',
  };

  const progressColors = {
    'not-ready': 'default' as const,
    'getting-there': 'warning' as const,
    'almost-ready': 'primary' as const,
    'ready': 'success' as const,
  };

  return (
    <Card className="overflow-hidden">
      <CardContent className="p-6">
        {/* Header */}
        <div className="flex items-center gap-3 mb-4">
          <motion.div
            animate={
              shouldReduceMotion || level !== 'ready'
                ? {}
                : { scale: [1, 1.1, 1] }
            }
            transition={{ duration: 2, repeat: Infinity }}
          >
            {level === 'ready' ? (
              <Sparkles className="h-6 w-6 text-success-500" />
            ) : level === 'almost-ready' ? (
              <CheckCircle className="h-6 w-6 text-primary-500" />
            ) : (
              <AlertCircle className="h-6 w-6 text-muted-foreground" />
            )}
          </motion.div>
          <BilingualHeading
            text={strings.dashboard.readyForTest}
            level={3}
            size="md"
          />
        </div>

        {/* Readiness gauge */}
        <div className="mb-4">
          <div className="flex justify-between items-baseline mb-2">
            <span className={clsx('text-3xl font-bold tabular-nums', levelColors[level])}>
              {readinessScore}%
            </span>
            <span className="text-sm text-muted-foreground">
              Readiness / အဆင်သင့်ဖြစ်မှု
            </span>
          </div>
          <Progress value={readinessScore} variant={progressColors[level]} size="lg" />
        </div>

        {/* Encouraging message */}
        <p className="text-sm text-muted-foreground mb-4">
          {message.en}
          <span className="block font-myanmar mt-0.5">{message.my}</span>
        </p>

        {/* Quick stats */}
        <div className="grid grid-cols-3 gap-2 mb-4 text-center text-sm">
          <div className="rounded-xl bg-muted/50 p-2">
            <div className="font-bold text-foreground">{correctCount}/{totalQuestions}</div>
            <div className="text-xs text-muted-foreground">Mastered</div>
          </div>
          <div className="rounded-xl bg-muted/50 p-2">
            <div className="font-bold text-foreground">{Math.round(recentAccuracy)}%</div>
            <div className="text-xs text-muted-foreground">Accuracy</div>
          </div>
          <div className="rounded-xl bg-muted/50 p-2">
            <div className="font-bold text-foreground">{streakDays}</div>
            <div className="text-xs text-muted-foreground">Day Streak</div>
          </div>
        </div>

        {/* CTA Button */}
        <BilingualButton
          label={strings.actions.startTest}
          variant={level === 'ready' ? 'primary' : 'secondary'}
          fullWidth
          onClick={onStartTest}
        />
      </CardContent>
    </Card>
  );
}
```
  </action>
  <verify>
Import ReadinessIndicator in Dashboard.
Render with sample props (correctCount=50, totalQuestions=100, recentAccuracy=75, streakDays=3).
Verify readiness gauge shows percentage and encouraging message.
Verify "Start Test" button is functional.
  </verify>
  <done>
ReadinessIndicator component implementing ANXR-05 "Am I ready?" requirement.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update Dashboard with new components and readiness indicator</name>
  <files>
    src/pages/Dashboard.tsx
  </files>
  <action>
Update `src/pages/Dashboard.tsx` to use Phase 3 components:

Key changes:

1. Import the new components:
```typescript
import { BilingualHeading, SectionHeading } from '@/components/bilingual/BilingualHeading';
import { BilingualButton } from '@/components/bilingual/BilingualButton';
import { Card, CardHeader, CardContent } from '@/components/ui/Card';
import { Progress } from '@/components/ui/Progress';
import { StaggeredGrid, StaggeredItem, FadeIn } from '@/components/animations/StaggeredList';
import { ReadinessIndicator } from '@/components/dashboard/ReadinessIndicator';
import { strings } from '@/lib/i18n/strings';
```

2. Update header to use BilingualHeading:
```tsx
<header className="mb-8">
  <FadeIn>
    <BilingualHeading
      text={{
        en: `Welcome back, ${user?.name?.split(' ')[0] ?? 'Learner'}!`,
        my: `ပြန်လာတာကို ကြိုဆိုပါတယ်၊ ${user?.name?.split(' ')[0] ?? 'သင်ယူသူ'}!`,
      }}
      level={1}
      size="2xl"
    />
  </FadeIn>
</header>
```

3. Add ReadinessIndicator to dashboard (implements ANXR-05):
```tsx
<section className="mb-8">
  <ReadinessIndicator
    correctCount={userProgress.masteredCount ?? 0}
    totalQuestions={100} // Total questions in bank
    recentAccuracy={userProgress.recentAccuracy ?? 0}
    streakDays={userProgress.streakDays ?? 0}
    onStartTest={() => navigate('/test')}
  />
</section>
```

4. Use StaggeredGrid for the detail tiles:
```tsx
<StaggeredGrid columns={3} className="mb-8">
  {detailTiles.map((tile, index) => (
    <Card key={index} interactive elevated>
      <Link to={tile.to}>
        <CardHeader>
          <BilingualHeading
            text={{ en: tile.title, my: tile.titleMy }}
            level={3}
            size="md"
          />
        </CardHeader>
        <CardContent>
          <p className="text-2xl font-bold text-foreground">{tile.stat}</p>
          <p className="text-muted-foreground text-sm">{tile.description}</p>
        </CardContent>
      </Link>
    </Card>
  ))}
</StaggeredGrid>
```

5. Add `data-tour="dashboard"` attribute to main content for onboarding.

6. Use Progress component for accuracy display with bilingual label:
```tsx
<ProgressWithLabel
  value={accuracy}
  labelEn="Overall Accuracy"
  labelMy="စုစုပေါင်းမှန်ကန်မှု"
  variant="success"
/>
```

7. Ensure mobile-responsive layout with explicit className:
```tsx
// Grid that stacks on mobile, 2 cols on sm, 3 cols on lg
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  {/* Cards */}
</div>
```

Touch targets must be at least 44px - use `min-h-[44px] py-3` on interactive elements.
  </action>
  <verify>
View Dashboard on mobile viewport (375px).
Verify cards stack vertically.
Verify ReadinessIndicator shows "Am I ready?" gauge.
View on desktop - cards should be in 3-column grid.
Verify BilingualHeading shows EN on top, MY below.
  </verify>
  <done>
Dashboard uses Phase 3 components with mobile-first layout and ANXR-05 readiness indicator.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update LandingPage and AuthPage with bilingual components</name>
  <files>
    src/pages/LandingPage.tsx
    src/pages/AuthPage.tsx
  </files>
  <action>
Update `src/pages/LandingPage.tsx`:

1. Import bilingual components:
```typescript
import { BilingualHeading, PageTitle } from '@/components/bilingual/BilingualHeading';
import { BilingualButton } from '@/components/bilingual/BilingualButton';
import { FadeIn } from '@/components/animations/StaggeredList';
import { strings } from '@/lib/i18n/strings';
```

2. Update hero section with bilingual title:
```tsx
<FadeIn>
  <BilingualHeading
    text={strings.app.title}
    level={1}
    size="2xl"
    centered
    className="mb-4"
  />
  <p className="text-muted-foreground text-center max-w-lg mx-auto mb-8">
    {strings.app.tagline.en}
    <span className="block font-myanmar mt-1">{strings.app.tagline.my}</span>
  </p>
</FadeIn>
```

3. Update CTA buttons:
```tsx
<div className="flex flex-col sm:flex-row gap-4 justify-center">
  <BilingualButton
    label={strings.actions.startStudying}
    variant="primary"
    size="lg"
    onClick={() => navigate('/study')}
  />
  <BilingualButton
    label={strings.actions.startTest}
    variant="outline"
    size="lg"
    onClick={() => navigate('/test')}
  />
</div>
```

Update `src/pages/AuthPage.tsx`:

1. Import bilingual components:
```typescript
import { BilingualHeading } from '@/components/bilingual/BilingualHeading';
import { BilingualButton } from '@/components/bilingual/BilingualButton';
import { strings } from '@/lib/i18n/strings';
```

2. Update sign-in heading:
```tsx
<BilingualHeading
  text={strings.nav.signIn}
  level={1}
  size="xl"
  centered
  className="mb-6"
/>
```

3. Ensure all interactive elements have min-h-[44px] for touch accessibility.
  </action>
  <verify>
Navigate to Landing page.
Verify bilingual title and CTA buttons.
Navigate to Auth page.
Verify bilingual sign-in heading.
Test on mobile viewport - touch targets should be at least 44px.
  </verify>
  <done>
LandingPage and AuthPage use bilingual components with mobile-first layout.
  </done>
</task>

</tasks>

<verification>
1. `pnpm run build` completes without errors
2. Dashboard shows "Am I ready?" readiness indicator (ANXR-05)
3. Dashboard cards stack on mobile, grid on desktop
4. Landing page has bilingual hero section
5. Auth page has bilingual sign-in heading
6. All pages have bilingual headings
7. Touch targets are 44px minimum
</verification>

<success_criteria>
- ReadinessIndicator component created implementing ANXR-05
- Dashboard includes ReadinessIndicator widget
- Dashboard uses Card, BilingualHeading, StaggeredGrid
- LandingPage uses BilingualButton for CTAs
- AuthPage uses BilingualHeading for sign-in
- Mobile layouts work on 375px viewport
- Touch targets are at least 44px
- data-tour attributes added for onboarding
- All pages compile without TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-ui-ux-bilingual-polish/03-08-SUMMARY.md`
</output>
