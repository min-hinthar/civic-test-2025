---
phase: 17-ui-system-polish
plan: 05
type: execute
wave: 2
depends_on: ["17-01", "17-02"]
files_modified:
  - src/components/hub/OverviewTab.tsx
  - src/components/hub/ReadinessRing.tsx
  - src/components/hub/StatCard.tsx
  - src/components/hub/CategoryDonut.tsx
  - src/components/hub/SubcategoryBar.tsx
  - src/components/hub/HistoryTab.tsx
  - src/components/hub/AchievementsTab.tsx
  - src/components/hub/WelcomeState.tsx
  - src/components/hub/HubSkeleton.tsx
  - src/pages/HubPage.tsx
autonomous: true

must_haves:
  truths:
    - "Hub cards use GlassCard with appropriate tier (medium for hero/featured, light for regular)"
    - "Progress rings and bars animate with spring fill from 0 on mount"
    - "List items in History/Achievements tabs enter with staggered spring pop animation"
    - "Loading skeleton uses prismatic shimmer colors matching glass border palette"
  artifacts:
    - path: "src/components/hub/OverviewTab.tsx"
      provides: "Overview with GlassCard tiers and spring-animated stats"
      contains: "GlassCard"
    - path: "src/components/hub/HubSkeleton.tsx"
      provides: "Loading skeleton with prismatic shimmer"
      contains: "skeleton-prismatic"
  key_links:
    - from: "src/components/hub/OverviewTab.tsx"
      to: "src/components/ui/GlassCard.tsx"
      via: "import"
      pattern: "from.*GlassCard"
    - from: "src/components/hub/ReadinessRing.tsx"
      to: "src/lib/motion-config.ts"
      via: "import"
      pattern: "from.*motion-config"
---

<objective>
Apply glass tiers, spring animations, and prismatic shimmer to all Progress Hub components: overview stats, progress rings, category donuts, history list, achievements, and loading skeleton.

Purpose: The Progress Hub is the most data-rich page. Spring-animated progress and staggered list entrances create the premium feel.
Output: All hub components use appropriate glass tiers, progress animations use spring physics, lists stagger with bounce.
</objective>

<execution_context>
@C:/Users/minkk/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/minkk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/17-ui-system-polish/17-02-SUMMARY.md
@src/components/hub/OverviewTab.tsx
@src/components/hub/ReadinessRing.tsx
@src/components/hub/StatCard.tsx
@src/components/hub/CategoryDonut.tsx
@src/components/hub/SubcategoryBar.tsx
@src/components/hub/HistoryTab.tsx
@src/components/hub/AchievementsTab.tsx
@src/components/hub/HubSkeleton.tsx
@src/components/hub/WelcomeState.tsx
@src/pages/HubPage.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Upgrade OverviewTab components with glass tiers and spring progress</name>
  <files>src/components/hub/OverviewTab.tsx, src/components/hub/ReadinessRing.tsx, src/components/hub/StatCard.tsx, src/components/hub/CategoryDonut.tsx, src/components/hub/SubcategoryBar.tsx</files>
  <action>
  **OverviewTab.tsx:**

  1. Import GlassCard from `@/components/ui/GlassCard` (or keep existing hub/ import -- re-export handles it)
  2. Review all card wrappers. Apply tiers:
     - Readiness ring section: `tier="medium"` (hero card, prominent)
     - Stat cards row: `tier="light"` (regular cards)
     - Category mastery section: `tier="light"`
  3. Wrap card sections in StaggeredList for staggered entrance
  4. Import `SPRING_GENTLE` from motion-config for any local animations

  **ReadinessRing.tsx:**

  1. The ring is likely an SVG circle with `stroke-dasharray`/`stroke-dashoffset` animation
  2. Import `motion` from 'motion/react' and `SPRING_GENTLE` from motion-config
  3. Convert the progress circle to use `motion.circle` with `animate={{ strokeDashoffset: targetOffset }}` and `transition={SPRING_GENTLE}` for spring fill with overshoot
  4. The ring should fill from 0 on mount (set `initial={{ strokeDashoffset: fullCircumference }}`)
  5. Per user decision: "Spring fill from 0 (with overshoot) + simultaneous number count-up" -- the CountUp component already handles the number. The ring needs the spring fill.

  **StatCard.tsx:**

  1. Read current implementation. Wrap with GlassCard tier="light" if not already
  2. Add prismatic-border class for the rainbow border
  3. Add subtle entrance animation: `<motion.div initial={{ opacity: 0, y: 12 }} animate={{ opacity: 1, y: 0 }} transition={SPRING_BOUNCY}>`
  4. Ensure the stat value uses CountUp (already does) which provides the number animation

  **CategoryDonut.tsx:**

  1. Similar to ReadinessRing: convert SVG circles to motion.circle for spring-animated fill
  2. Use SPRING_GENTLE for the fill animation
  3. Each donut should animate from 0 when it enters the viewport (or on mount)

  **SubcategoryBar.tsx:**

  1. The progress bar fill should animate with spring physics
  2. Use `motion.div` for the fill bar: `animate={{ width: `${percentage}%` }}` with `transition={SPRING_GENTLE}`
  3. The striped animation can stay on top of the spring-filled bar
  </action>
  <verify>Run `npx next build` -- zero errors. Progress rings should show spring fill animation in dev mode.</verify>
  <done>OverviewTab uses tiered GlassCards, ReadinessRing and CategoryDonut animate with spring fill, StatCard has entrance animation, SubcategoryBar fill animates with spring.</done>
</task>

<task type="auto">
  <name>Task 2: Upgrade History/Achievements tabs and HubSkeleton with prismatic shimmer</name>
  <files>src/components/hub/HistoryTab.tsx, src/components/hub/AchievementsTab.tsx, src/components/hub/WelcomeState.tsx, src/components/hub/HubSkeleton.tsx, src/pages/HubPage.tsx</files>
  <action>
  **HistoryTab.tsx:**

  1. Wrap history list items with StaggeredList + StaggeredItem from `@/components/animations/StaggeredList`
  2. Each session card should use GlassCard tier="light"
  3. Session detail expand/collapse should use AnimatePresence with SPRING_BOUNCY for a bouncy open/close
  4. Import spring configs as needed

  **AchievementsTab.tsx:**

  1. Badge grid items: wrap in StaggeredList for staggered entrance
  2. Individual badge cards: use GlassCard tier="light"
  3. Leaderboard section: use GlassCard tier="light"
  4. Per user decision: "Badge celebration: Prismatic ripple expanding outward from badge" -- the BadgeCelebration component handles this separately (in Plan 06)

  **WelcomeState.tsx:**

  1. The welcome message for new users should use GlassCard tier="medium" for visual prominence
  2. Add a gentle entrance animation: scale from 0.95 + fade in with SPRING_GENTLE

  **HubSkeleton.tsx:**

  1. Replace existing `skeleton-shimmer` class references with `skeleton-prismatic`
  2. Add `skeleton-prismatic` class to animations.css:
     ```css
     .skeleton-prismatic {
       background: linear-gradient(
         90deg,
         hsl(var(--muted)) 0%,
         hsl(280 60% 70% / 0.15) 25%,
         hsl(200 80% 65% / 0.2) 50%,
         hsl(280 60% 70% / 0.15) 75%,
         hsl(var(--muted)) 100%
       );
       background-size: 200% 100%;
       animation: shimmer 1.5s infinite;
     }
     @media (prefers-reduced-motion: reduce) {
       .skeleton-prismatic {
         animation: none;
         background: hsl(var(--muted));
       }
     }
     ```
  3. Also add the `.skeleton-prismatic` class definition to `src/styles/animations.css` (keep the existing `skeleton-shimmer` for backward compat)

  **HubPage.tsx:**

  1. Apply GlassCard with tier="medium" to any hero sections at the page level
  2. Ensure AnimatePresence tab transitions use spring physics
  </action>
  <verify>Run `npx next build` -- zero errors. History/Achievements items stagger in with spring. Skeleton shows prismatic rainbow shimmer.</verify>
  <done>History and Achievements tabs use GlassCard + staggered spring entrance. HubSkeleton uses prismatic shimmer. WelcomeState has glass-medium entrance.</done>
</task>

</tasks>

<verification>
1. `npx next build` succeeds with zero errors
2. ReadinessRing uses motion.circle with SPRING_GENTLE
3. HistoryTab items are wrapped in StaggeredList
4. HubSkeleton uses `skeleton-prismatic` class
5. animations.css contains `.skeleton-prismatic` definition
6. WelcomeState uses GlassCard tier="medium"
</verification>

<success_criteria>
All Progress Hub components display with appropriate glass tiers. Progress rings/bars fill with spring physics. List items enter with staggered spring bounce. Loading skeleton shows prismatic rainbow shimmer.
</success_criteria>

<output>
After completion, create `.planning/phases/17-ui-system-polish/17-05-SUMMARY.md`
</output>
