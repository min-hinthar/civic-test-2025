---
milestone: v2.1
audited: 2026-02-18T20:00:00Z
status: gaps_found
scores:
  requirements: 49/56
  phases: 7/8 verified
  integration: 34/38 connections wired
  flows: 5/7 E2E flows pass
gaps:
  requirements:
    - id: "SESS-01"
      status: "unsatisfied"
      phase: "Phase 20"
      claimed_by_plans: ["20-05-PLAN.md"]
      completed_by_plans: ["20-05-SUMMARY.md"]
      verification_status: "passed (incorrect — integration gap)"
      evidence: "TestPage.handleResume stores MockTestSnapshot in resumeDataRef but handleCountdownComplete clears it without dispatching to quizReducer. quizReducer has no RESUME_SESSION action. useReducer always starts at currentIndex: 0, results: []. User sees Q1 again with 0/0 score after resume. PracticeSession correctly handles this via initialResults/initialIndex props — TestPage does not."

    - id: "TTS-01"
      status: "unsatisfied"
      phase: "Phase 22"
      claimed_by_plans: ["22-01-PLAN.md"]
      completed_by_plans: ["22-01-SUMMARY.md"]
      verification_status: "passed (incorrect — VoicePicker.tsx does not exist)"
      evidence: "VoicePicker.tsx file does not exist in codebase (grep confirms zero matches in src/). Only referenced in tts.integration.test.tsx comment. SettingsPage Speech & Audio section has speed/autoRead/autoReadLang controls but NO voice selection UI. preferredVoiceName field exists in TTSSettings type but no UI writes to it. Phase 22 VERIFICATION falsely claimed 'VoicePicker component exists (90 lines)' — verifier hallucinated."

    - id: "LANG-03"
      status: "unsatisfied"
      phase: "Phase 18"
      claimed_by_plans: ["18-05-PLAN.md"]
      completed_by_plans: ["18-05-SUMMARY.md"]
      verification_status: "gaps_found (initial), re-verified as passed (incorrect)"
      evidence: "InterviewSession.tsx line 157 reads global showBurmese from useLanguage(). No override to false for realistic mode. Lines 995, 1004, 1024, 1072, 1108, 1187, 1205 conditionally render Burmese UI labels (exit, score, listening, etc.) when showBurmese=true. TTS/STT is English-only but UI chrome shows bilingual text in USCIS simulation mode."

    - id: "SESS-06"
      status: "partial"
      phase: "Phase 20"
      claimed_by_plans: ["20-04-PLAN.md"]
      completed_by_plans: ["20-04-SUMMARY.md"]
      verification_status: "passed (partial — sort route broken)"
      evidence: "UnfinishedBanner correctly shows for all session types including sort. However, getSessionRoute('sort') returns '/sort' (line 78 of UnfinishedBanner.tsx) which doesn't exist as a route. Sort is embedded at '/study#sort'. Dashboard banner for sort sessions navigates to dead route."

    - id: "FLSH-07"
      status: "partial"
      phase: "Phase 23"
      claimed_by_plans: ["23-08-PLAN.md"]
      completed_by_plans: ["23-08-SUMMARY.md"]
      verification_status: "missing (no 23-VERIFICATION.md)"
      evidence: "Sort persistence works end-to-end via useSortSession → sortReducer RESUME_SESSION action. Direct resume from StudyGuidePage works correctly. Dashboard UnfinishedBanner navigate broken ('/sort' route). Phase 23 has no VERIFICATION.md artifact."

    - id: "A11Y-05"
      status: "partial"
      phase: "Phase 24"
      claimed_by_plans: ["24-05-PLAN.md", "24-06-PLAN.md"]
      completed_by_plans: ["24-05-SUMMARY.md", "24-06-SUMMARY.md"]
      verification_status: "passed (partial — practice only)"
      evidence: "TimerExtensionToast wired in PracticeSession with allowExtension: timerEnabled. TestPage uses allowExtension: false (line 312). Mock test per-question timer has no extension. Overall 20-minute mock test timer also has no extension mechanism. REQUIREMENTS says 'User can extend test timer by 50%' without specifying mode. Practice mode satisfies the spirit; mock test intentionally simulates USCIS conditions."

    - id: "A11Y-04"
      status: "partial"
      phase: "Phase 24"
      claimed_by_plans: ["24-05-PLAN.md"]
      completed_by_plans: ["24-05-SUMMARY.md"]
      verification_status: "partially covered"
      evidence: "PerQuestionTimer announces at 5s remaining via aria-live assertive. REQUIREMENTS A11Y-04 specifies 'Screen reader announces timer status at key intervals (5min, 2min, 1min)' for the overall test timer. No overall timer announcements implemented. Per-question timer's 5s announcement is a different concern."

  integration:
    - from: "Phase 20 (Session Persistence)"
      to: "Phase 21 (Quiz State Machine)"
      connection: "MockTestSnapshot → quizReducer state restoration"
      reason: "TestPage handleResume stores snapshot in ref but handleCountdownComplete clears it without dispatching to quizReducer"
      affected_requirements: ["SESS-01"]

    - from: "Phase 22 (TTS Quality)"
      to: "Settings UI"
      connection: "VoicePicker → SettingsPage Speech & Audio section"
      reason: "VoicePicker component was never created; SettingsPage has no voice selection UI"
      affected_requirements: ["TTS-01"]

    - from: "Phase 18 (Language Mode)"
      to: "Phase 21 (Interview UX)"
      connection: "showBurmese override for interview realistic mode"
      reason: "InterviewSession reads global showBurmese without overriding to false for USCIS simulation"
      affected_requirements: ["LANG-03"]

    - from: "Phase 20 (Session Persistence)"
      to: "Phase 23 (Flashcard Sort)"
      connection: "Dashboard sort session navigation"
      reason: "UnfinishedBanner.getSessionRoute('sort') returns '/sort' but route doesn't exist"
      affected_requirements: ["SESS-06", "FLSH-07"]

  flows:
    - name: "User resumes interrupted mock test"
      broken_at: "handleCountdownComplete clears resumeDataRef without applying to quizReducer"
      reason: "quizReducer has no RESUME_SESSION action; quiz always restarts from Q1 with empty results"
      affected_requirements: ["SESS-01"]

    - name: "Dashboard → Sort resume via UnfinishedBanner"
      broken_at: "navigate('/sort') — route doesn't exist"
      reason: "Sort mode is embedded at '/study#sort', not '/sort'"
      affected_requirements: ["SESS-06", "FLSH-07"]

tech_debt:
  - phase: 18-language-mode
    items:
      - "VERIFICATION metadata inconsistency (frontmatter says status: passed with re_verification: true but body describes initial gaps_found)"

  - phase: 22-tts-quality
    items:
      - "VERIFICATION falsely claims VoicePicker.tsx exists (90 lines) — verifier hallucinated artifact"
      - "preferredVoiceName field in TTSSettings type is dead code — no UI sets it"
      - "6 human verification scenarios still pending"

  - phase: 23-flashcard-sort
    items:
      - "Missing VERIFICATION.md artifact — phase was never formally verified"
      - "No nav badge for pending sort sessions (only dashboard UnfinishedBanner)"

  - phase: 24-accessibility-performance
    items:
      - "A11Y requirement numbering mismatch between REQUIREMENTS.md and VERIFICATION.md"
      - "toast.a11y.test tests inline mock, not actual BilingualToast component"
      - "A11Y-03 (44px touch targets) pre-existing from v2.0, not formally re-audited"
      - "Overall test timer has no screen reader announcements at 5/2/1 minute intervals"

  - phase: 25-burmese-translation-audit
    items:
      - "3 human verification scenarios pending (native speaker review, Myanmar rendering, audio consistency)"
---

# v2.1 Milestone Audit Report

**Milestone:** v2.1 Quality & Polish
**Audited:** 2026-02-18
**Status:** gaps_found
**Score:** 49/56 requirements satisfied (3 unsatisfied, 4 partial)

## Milestone Goal

Make the core learning experience (test, practice, interview, study) feel premium with redesigned UX, natural TTS, proper language toggle behavior, polished Burmese translations, and performance/accessibility improvements.

## Phase Verification Summary

| Phase | VERIFICATION.md | Status | Score | Issues |
|-------|----------------|--------|-------|--------|
| 18. Language Mode | exists | passed (re-verified) | 6/6 | LANG-03 still unsatisfied (interview English-only) |
| 19. TTS Core Extraction | exists | passed | 5/5 | Clean |
| 20. Session Persistence | exists | passed | 6/6 | SESS-01 integration broken (TestPage resume) |
| 21. Test & Practice UX | exists | passed | 8/8 | Clean |
| 22. TTS Quality | exists | human_needed | 5/5 | VoicePicker claim FALSE (TTS-01 unsatisfied) |
| 23. Flashcard Sort | **MISSING** | unverified | —/— | No VERIFICATION.md artifact |
| 24. Accessibility & Perf | exists | passed | 5/5 | A11Y-04, A11Y-05 partial |
| 25. Burmese Translation | exists | human_needed | 7/8 | BRMSE-01 needs native speaker |

## Unsatisfied Requirements (3)

### SESS-01: Mock test resume (CRITICAL)

**Requirement:** User can resume interrupted mock test session (prompt with session info)
**Phase:** 20 (Session Persistence)
**Root Cause:** `TestPage.handleResume` stores `MockTestSnapshot` in `resumeDataRef` but `handleCountdownComplete` clears it without dispatching to `quizReducer`. The reducer has no `RESUME_SESSION` action. `useReducer(quizReducer, quizConfig, initialQuizState)` always starts at `currentIndex: 0` with empty `results: []`.
**Impact:** User sees resume countdown animation but quiz restarts from Q1 with 0/0 score. Saved answer history is lost.
**Compare:** `PracticeSession` correctly accepts `initialResults`, `initialIndex`, `initialSkippedIndices` as props.
**Files:** `src/pages/TestPage.tsx:490-517,171`

### TTS-01: Voice selection (HIGH)

**Requirement:** User can select preferred TTS voice from available voices in Settings
**Phase:** 22 (TTS Quality)
**Root Cause:** `VoicePicker.tsx` was never created. Phase 22 VERIFICATION falsely claimed it exists. SettingsPage has speed/auto-read controls but NO voice selection dropdown.
**Impact:** Users cannot choose their preferred TTS voice. `TTSSettings.preferredVoiceName` is dead code.
**Files:** `src/pages/SettingsPage.tsx` (missing VoicePicker import)

### LANG-03: Interview forces English-only (MEDIUM)

**Requirement:** Interview simulation forces English-only mode regardless of global toggle
**Phase:** 18 (Language Mode)
**Root Cause:** `InterviewSession.tsx:157` reads global `showBurmese` from `useLanguage()` without overriding to `false`. Burmese UI labels appear at lines 995, 1004, 1024, 1072, 1108, 1187, 1205.
**Impact:** USCIS simulation shows bilingual button labels (exit, score, listening). TTS/STT is English-only but visual chrome is bilingual.
**Files:** `src/components/interview/InterviewSession.tsx:157`

## Partial Requirements (4)

### SESS-06: Dashboard warning for sort sessions

Implemented but sort navigation broken (`/sort` route doesn't exist; should be `/study#sort`).

### FLSH-07: Sort session persistence

Sort persistence works via `useSortSession` + `RESUME_SESSION` action. Missing VERIFICATION.md. Dashboard resume broken (route issue above).

### A11Y-04: Timer announcements at key intervals

Per-question timer announces at 5s remaining. Overall 20-minute test timer has no announcements at 5min/2min/1min intervals.

### A11Y-05: Timer extension (WCAG 2.2.1)

Implemented in practice mode. Mock test intentionally uses `allowExtension: false` (USCIS simulation). Requirement ambiguous about scope.

## Cross-Phase Integration

| Connection | Status | Issue |
|-----------|--------|-------|
| Phase 20 → 21 (TestPage resume) | **BROKEN** | quizReducer has no resume action |
| Phase 22 → Settings (VoicePicker) | **BROKEN** | Component never created |
| Phase 18 → 21 (Interview English-only) | **BROKEN** | showBurmese not overridden |
| Phase 20 → 23 (Sort dashboard nav) | **BROKEN** | `/sort` route doesn't exist |
| 34 other connections | WIRED | Working correctly |

## E2E Flow Verification

| Flow | Status |
|------|--------|
| Mock test: start → answer → check → feedback → continue → results | PASS |
| Mock test: resume interrupted session | **BROKEN** (restarts from Q1) |
| Practice: start → skip → review skipped → results | PASS |
| Interview: real mode → speak → grade → early termination → transcript | PASS |
| Flashcard sort: swipe → round summary → SRS add → drill missed | PASS |
| TTS config: Settings → voice selection | **BROKEN** (no UI) |
| Dashboard → resume sort session | **BROKEN** (`/sort` route) |

## Tech Debt (14 items across 5 phases)

See YAML frontmatter for full list. Key items:
- Phase 22: Verification hallucinated VoicePicker existence
- Phase 23: Missing VERIFICATION.md
- Phase 24: A11Y requirement numbering mismatch with REQUIREMENTS.md
- Phase 25: Translation quality pending native speaker review

---

*Audited: 2026-02-18*
*Auditor: Claude (gsd-milestone-audit orchestrator)*
*Integration checker: gsd-integration-checker (sonnet)*
